/**************************************************
LEADTOOLS (C) 1991-2017 LEAD Technologies, Inc. ALL RIGHTS RESERVED.
This software is protected by United States and International copyright laws.
Any copying, duplication, deployment, redistribution, modification or other
disposition hereof is STRICTLY PROHIBITED without an express written license
granted by LEAD Technologies, Inc.. This notice may not be removed or otherwise
altered under any circumstances.
Portions of this product are licensed under US patent 5,327,254 and foreign
counterparts.
For more information, contact LEAD Technologies, Inc. at 704-332-5532 or visit
https://www.leadtools.com
**************************************************/
// Leadtools.Documents.js
// Version:19.0.0.10
var __extends=this&&this.__extends||function(d,c){function h(){this.constructor=d}for(var a in c)c.hasOwnProperty(a)&&(d[a]=c[a]);d.prototype=null===c?Object.create(c):(h.prototype=c.prototype,new h)},lt;
(function(d){(function(c){(function(h){(function(b){b[b.unknown=0]="unknown";b[b.ean13=1]="ean13";b[b.ean8=2]="ean8";b[b.upca=3]="upca";b[b.upce=4]="upce";b[b.code3Of9=5]="code3Of9";b[b.code128=6]="code128";b[b.codeInterleaved2Of5=7]="codeInterleaved2Of5";b[b.codabar=8]="codabar";b[b.uccean128=9]="uccean128";b[b.code93=10]="code93";b[b.eanext5=11]="eanext5";b[b.eanext2=12]="eanext2";b[b.msi=13]="msi";b[b.code11=14]="code11";b[b.codeStandard2Of5=15]="codeStandard2Of5";b[b.gs1Databar=16]="gs1Databar";
b[b.gs1DatabarLimited=17]="gs1DatabarLimited";b[b.gs1DatabarExpanded=18]="gs1DatabarExpanded";b[b.patchCode=19]="patchCode";b[b.postNet=20]="postNet";b[b.planet=21]="planet";b[b.australianPost4State=22]="australianPost4State";b[b.royalMail4State=23]="royalMail4State";b[b.usps4State=24]="usps4State";b[b.gs1DatabarStacked=25]="gs1DatabarStacked";b[b.gs1DatabarExpandedStacked=26]="gs1DatabarExpandedStacked";b[b.pdf417=27]="pdf417";b[b.microPDF417=28]="microPDF417";b[b.datamatrix=29]="datamatrix";b[b.qr=
30]="qr";b[b.aztec=31]="aztec";b[b.maxi=32]="maxi";b[b.microQR=33]="microQR";b[b.pharmaCode=34]="pharmaCode"})(h.BarcodeSymbology||(h.BarcodeSymbology={}));var a=h.BarcodeSymbology,e=function(){function b(){this._symbology=a.unknown;this._bounds=d.LeadRectD.empty;this._rotationAngle=0;this._data=[];this._value=""}b.fromJson=function(g){if(null==g)return null;var a=new b;return!a.copyFromJson(g)?null:a};b.prototype.copyFromJson=function(b){if(null==b||!c.Internal.PropertyBag.copyMatchingProperties(b,
this,["data"]))return!1;b=b.data;null!=b&&0<b.length&&(this._data=d.LTHelper.base64Decode(b));return!0};Object.defineProperty(b.prototype,"symbology",{get:function(){return this._symbology},set:function(b){this._symbology=b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"bounds",{get:function(){return this._bounds},set:function(b){this._bounds=b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"rotationAngle",{get:function(){return this._rotationAngle},set:function(b){this._rotationAngle=
b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"data",{get:function(){return this._data},set:function(b){this._data=b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"value",{get:function(){return this._value},set:function(b){this._value=b},enumerable:!0,configurable:!0});return b}();h.BarcodeData=e})(c.Barcode||(c.Barcode={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){(function(b){b[b.auto=0]="auto";b[b.disabled=1]="disabled";b[b.always=2]="always"})(c.DocumentConverterSvgImagesRecognitionMode||(c.DocumentConverterSvgImagesRecognitionMode={}));var d=c.DocumentConverterSvgImagesRecognitionMode;(function(b){b[b.none=0]="none";b[b.skip=1]="skip";b[b.skipIgnoreAnnotations=2]="skipIgnoreAnnotations"})(c.DocumentConverterEmptyPageMode||(c.DocumentConverterEmptyPageMode={}));var a=c.DocumentConverterEmptyPageMode;(function(b){b[b.abort=0]="abort";
b[b.resume=1]="resume"})(c.DocumentConverterJobErrorMode||(c.DocumentConverterJobErrorMode={}));var e=c.DocumentConverterJobErrorMode;(function(b){b[b.none=0]="none";b[b.external=1]="external";b[b.overlay=2]="overlay";b[b.embed=3]="embed"})(c.DocumentConverterAnnotationsMode||(c.DocumentConverterAnnotationsMode={}));var b=c.DocumentConverterAnnotationsMode,g=function(){return function(){this.jobErrorMode=e.resume;this.pageNumberingTemplate="##name##_Page(##page##).##extension##";this.enableSvgConversion=
!0;this.svgImagesRecognitionMode=d.auto;this.emptyPageMode=a.none;this.preprocessorInvert=this.preprocessorOrient=this.preprocessorDeskew=!1;this.inputDocumentLastPageNumber=this.inputDocumentFirstPageNumber=0;this.documentFormat=c.Writers.DocumentFormat.user;this.rasterImageFormat=c.RasterImageFormat.unknown;this.rasterImageBitsPerPixel=0;this.jobName=this.documentOptions=null;this.annotationsMode=b.none;this.annotations=this.documentName=null}}();c.DocumentConverterJobData=g})(d.Documents||(d.Documents=
{}))})(lt||(lt={}));(function(d){(function(c){var d=function(){function a(a){this._document=a}a.prototype.dispose=function(){this._document=null};Object.defineProperty(a.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});return a}();c.DocumentBarcodes=d})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){var h=function(a){function e(b){a.call(this);this._document=null;this._internalAddCount=0;b&&(this._document=b)}__extends(e,a);e.prototype.dispose=function(){this._document=null};Object.defineProperty(e.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});e.prototype.beginAdd=function(){this._internalAddCount++};e.prototype.endAdd=function(){this._internalAddCount--};e.prototype.insertItem=function(b,e){if(0===this._internalAddCount)throw"This operation is not supported";
if(!e)throw"Item cannot be null";a.prototype.insertItem.call(this,b,e);this._document.documentsAddedRemoved(e,!0)};e.prototype.removeItem=function(b){if(0===this._internalAddCount)throw"This operation is not supported";var e=this.item(b);a.prototype.removeItem.call(this,b);this._document.documentsAddedRemoved(e,!1)};e.prototype.moveItem=function(){throw"This operation is not supported";};e.prototype.setItem=function(){throw"This operation is not supported";};e.prototype.clearItems=function(){throw"This operation is not supported";
};e.prototype.tryAdd=function(b){this.beginAdd();try{for(var a=0;a<this.count;a++)if(this.item(a)===b)return;this.add(b);c.DocumentFactory.incrementDocumentRef(b)}finally{this.endAdd()}};e.prototype.tryRemove=function(b){for(var a=0,e=this._document.pages.count,d=0;d<e&&2>a;d++)this._document.pages.item(d).document===b&&a++;if(1===a){this.beginAdd();try{this.remove(b),0===c.DocumentFactory.decrementDocumentRef(b)&&this.document.autoDisposeDocuments&&b.dispose()}finally{this.endAdd()}}};return e}(d.LeadCollection);
c.DocumentDocuments=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d=d.RasterImageFormat||(d.RasterImageFormat={});d[d.unknown=0]="unknown";d[d.tifJpeg422=24]="tifJpeg422";d[d.ccittGroup4=29]="ccittGroup4";d[d.rasPdfJpeg=150]="rasPdfJpeg";d[d.rasPdfG4=149]="rasPdfG4"})(lt||(lt={}));
(function(d){(function(c){(function(c){var a=function(){function a(b){this._format=b}Object.defineProperty(a.prototype,"format",{get:function(){return this._format},enumerable:!0,configurable:!0});return a}();c.DocumentOptions=a})(c.Writers||(c.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){(function(c){var a=function(a){function b(){a.call(this,c.DocumentFormat.rtf);this.textMode=c.DocumentTextMode.auto}__extends(b,a);return b}(c.DocumentOptions);c.RtfDocumentOptions=a})(c.Writers||(c.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){(function(c){(function(b){b[b.ansi=0]="ansi";b[b.unicode=1]="unicode";b[b.unicodeBigEndian=2]="unicodeBigEndian";b[b.utf8=3]="utf8"})(c.TextDocumentType||(c.TextDocumentType={}));var a=c.TextDocumentType,e=function(b){function e(){b.call(this,c.DocumentFormat.text);this.documentType=a.ansi;this.formatted=this.addPageBreak=this.addPageNumber=!1}__extends(e,b);return e}(c.DocumentOptions);c.TextDocumentOptions=e})(c.Writers||(c.Writers={}))})(d.Documents||(d.Documents={}))})(lt||
(lt={}));(function(d){(function(c){(function(c){var a=function(a){function b(){a.call(this,c.DocumentFormat.svg)}__extends(b,a);return b}(c.DocumentOptions);c.SvgDocumentOptions=a;a=function(a){function b(){a.call(this,c.DocumentFormat.emf)}__extends(b,a);return b}(c.DocumentOptions);c.EmfDocumentOptions=a})(c.Writers||(c.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){(function(c){var a=function(a){function b(){a.call(this,c.DocumentFormat.xls)}__extends(b,a);return b}(c.DocumentOptions);c.XlsDocumentOptions=a})(c.Writers||(c.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){(function(c){(function(b){b[b.pdf=0]="pdf";b[b.pdfA=1]="pdfA";b[b.pdf12=2]="pdf12";b[b.pdf13=3]="pdf13";b[b.pdf15=4]="pdf15";b[b.pdf16=5]="pdf16"})(c.PdfDocumentType||(c.PdfDocumentType={}));var a=c.PdfDocumentType;(function(b){b[b.rc40Bit=0]="rc40Bit";b[b.rc128Bit=1]="rc128Bit"})(c.PdfDocumentEncryptionMode||(c.PdfDocumentEncryptionMode={}));var e=c.PdfDocumentEncryptionMode;(function(b){b[b.pageOnly=0]="pageOnly";b[b.fullScreen=3]="fullScreen";b[b.bookmarksAndPage=1]="bookmarksAndPage";
b[b.thumbnailAndPage=2]="thumbnailAndPage";b[b.layerAndPage=4]="layerAndPage";b[b.attachmentsAndPage=5]="attachmentsAndPage"})(c.PdfDocumentPageModeType||(c.PdfDocumentPageModeType={}));var b=c.PdfDocumentPageModeType;(function(b){b[b.singlePageDisplay=0]="singlePageDisplay";b[b.oneColumnDisplay=1]="oneColumnDisplay";b[b.twoColumnLeftDisplay=2]="twoColumnLeftDisplay";b[b.twoColumnRightDisplay=3]="twoColumnRightDisplay";b[b.twoPageLeft=4]="twoPageLeft";b[b.twoPageRight=5]="twoPageRight"})(c.PdfDocumentPageLayoutType||
(c.PdfDocumentPageLayoutType={}));var g=c.PdfDocumentPageLayoutType;(function(b){b[b.defaultType=0]="defaultType";b[b.fitWidth=1]="fitWidth";b[b.fitHeight=2]="fitHeight";b[b.fitWidthBounds=3]="fitWidthBounds";b[b.fitHeightBounds=4]="fitHeightBounds";b[b.fitBounds=5]="fitBounds"})(c.PdfDocumentPageFitType||(c.PdfDocumentPageFitType={}));var d=c.PdfDocumentPageFitType,i=function(i){function j(){i.call(this,c.DocumentFormat.pdf);this.documentType=a.pdf;this.fontEmbedMode=c.DocumentFontEmbedMode.auto;
this.linearized=this.imageOverText=!1;this.author=this.keywords=this.subject=this.title=null;this.isProtected=!1;this.ownerPassword=this.userPassword=null;this.encryptionMode=e.rc128Bit;this.annotationsEnabled=this.editEnabled=this.copyEnabled=this.highQualityPrintEnabled=this.printEnabled=!0;this.assemblyEnabled=!1;this.oneBitImageCompression=c.OneBitImageCompressionType.jbig2;this.coloredImageCompression=c.ColoredImageCompressionType.flateJpeg;this.qualityFactor=80;this.imageOverTextSize=c.DocumentImageOverTextSize.original;
this.imageOverTextMode=c.DocumentImageOverTextMode.strict;this.initialPageNumber=1;this.pageModeType=b.pageOnly;this.pageLayoutType=g.singlePageDisplay;this.pageFitType=d.defaultType;this.zoomPercent=this.yCoordinate=this.xCoordinate=0;this.displayDocTitle=this.centerWindow=this.fitWindow=this.hideWindowUI=this.hideMenubar=this.hideToolbar=!1}__extends(j,i);return j}(c.DocumentOptions);c.PdfDocumentOptions=i})(c.Writers||(c.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){(function(c){var a=function(a){function b(){a.call(this,c.DocumentFormat.xps)}__extends(b,a);return b}(c.DocumentOptions);c.XpsDocumentOptions=a})(c.Writers||(c.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));(function(d){(function(c){(function(c){var a=function(a){function b(){a.call(this,c.DocumentFormat.pub)}__extends(b,a);return b}(c.DocumentOptions);c.PubDocumentOptions=a})(c.Writers||(c.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){(function(c){var a=function(a){function b(){a.call(this,c.DocumentFormat.mob)}__extends(b,a);return b}(c.DocumentOptions);c.MobDocumentOptions=a})(c.Writers||(c.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));(function(d){(function(c){(function(c){var a=function(a){function b(){a.call(this,c.DocumentFormat.ltd)}__extends(b,a);return b}(c.DocumentOptions);c.LtdDocumentOptions=a})(c.Writers||(c.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){(function(c){var a=function(a){function b(){a.call(this,c.DocumentFormat.html);this.fontEmbedMode=c.DocumentFontEmbedMode.none;this.useBackgroundColor=!1;this.backgroundColor="white"}__extends(b,a);return b}(c.DocumentOptions);c.HtmlDocumentOptions=a})(c.Writers||(c.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){(function(c){var a=function(a){function b(){a.call(this,c.DocumentFormat.docx);this.textMode=c.DocumentTextMode.auto}__extends(b,a);return b}(c.DocumentOptions);c.DocxDocumentOptions=a})(c.Writers||(c.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){(function(c){var a=function(a){function b(){a.call(this,c.DocumentFormat.doc);this.textMode=c.DocumentTextMode.auto}__extends(b,a);return b}(c.DocumentOptions);c.DocDocumentOptions=a})(c.Writers||(c.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){(function(c){(function(b){b[b.mm10=0]="mm10";b[b.inch1200=1]="inch1200";b[b.dpi=2]="dpi";b[b.pixel=3]="pixel"})(c.AltoXmlMeasurementUnit||(c.AltoXmlMeasurementUnit={}));var a=c.AltoXmlMeasurementUnit,e=function(b){function e(){b.call(this,c.DocumentFormat.altoXml);this.measurementUnit=a.mm10;this.applicationDescription=this.softwareVersion=this.softwareName=this.softwareCreator=this.processingStepSettings=this.processingStepDescription=this.processingAgency=this.processingDateTime=
this.fileName=null;this.firstPhysicalPageNumber=1;this.formatted=!1;this.indentation="\t"}__extends(e,b);return e}(c.DocumentOptions);c.AltoXmlDocumentOptions=e})(c.Writers||(c.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){var h=function(){function a(a){this._document=a}a.prototype.dispose=function(){this._document=null};Object.defineProperty(a.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"annotationsUri",{get:function(){return this._document.values.annotationsUri},enumerable:!0,configurable:!0});a.createEmptyContainer=function(a){var b=new d.Annotations.Core.AnnContainer;b.size=a.size.clone();a=a.resolution;b.mapper.mapResolutions(a,
a,a,a);return b};a.prototype.getAnnotations=function(e){var b=$.Deferred();if(this.document.isLocal){for(var g=[],m=this.document.pages.count,i=0;i<m;i++)if(e){var l=this.document.pages.item(i),l=a.createEmptyContainer(l);l.pageNumber=i+1;g.push(l)}else g.push(null);return b.resolve(g).promise()}e={url:[c.DocumentFactory.serviceUri,a._controllerName,"GetAnnotations"].join("/"),type:"POST",contentType:"application/json",data:JSON.stringify({documentId:this._document.documentId,pageNumber:0,createEmpty:e,
userData:this._document.serviceUserData})};if(!c.DocumentFactory.doPrepareAjax(this,a._className,"GetAnnotations",e))return b.reject(null,"Canceled","Canceled").promise();$.ajax(e).done(function(a){var g=a.annotations,e=null;null!=g&&(e=(new d.Annotations.Core.AnnCodecs).loadAll(g));b.resolve(e,"undefined"===typeof a.userData?null:a.userData)}).fail(function(a,g,e){c.DocumentFactory.log(e);b.reject(a,g,e)});return b.promise()};Object.defineProperty(a.prototype,"modifiedContainers",{get:function(){return this._modifiedContainers},
set:function(a){this._modifiedContainers=a},enumerable:!0,configurable:!0});a.prototype.setAnnotations=function(e){var b=[c.DocumentFactory.serviceUri,a._controllerName,"SetAnnotations"].join("/"),g=null;null!=e&&(g=(new d.Annotations.Core.AnnCodecs).saveAll(e,d.Annotations.Core.AnnFormat.annotations));var e={documentId:this._document.documentId,pageNumber:0,annotations:g,userData:this._document.serviceUserData},m=$.Deferred(),b={url:b,type:"POST",contentType:"application/json",data:JSON.stringify(e)};
if(!c.DocumentFactory.doPrepareAjax(this,a._className,"SetAnnotations",b))return m.reject(null,"Canceled","Canceled").promise();$.ajax(b).done(function(b){m.resolve("undefined"===typeof b.userData?null:b.userData)}).fail(function(b,a,g){c.DocumentFactory.log(g);m.reject(b,a,g)});return m.promise()};a._className="DocumentAnnotations";a._controllerName="Page";return a}();c.DocumentAnnotations=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){(function(c){(function(a){a[a.user=-1]="user";a[a.ltd=0]="ltd";a[a.pdf=1]="pdf";a[a.doc=2]="doc";a[a.rtf=3]="rtf";a[a.html=4]="html";a[a.text=5]="text";a[a.emf=6]="emf";a[a.xps=7]="xps";a[a.docx=8]="docx";a[a.xls=9]="xls";a[a.pub=10]="pub";a[a.mob=11]="mob";a[a.svg=12]="svg";a[a.altoXml=13]="altoXml"})(c.DocumentFormat||(c.DocumentFormat={}));(function(a){a[a.none=0]="none";a[a.auto=1]="auto";a[a.force=2]="force";a[a.all=3]="all"})(c.DocumentFontEmbedMode||(c.DocumentFontEmbedMode=
{}));(function(a){a[a.flate=0]="flate";a[a.faxG31D=1]="faxG31D";a[a.faxG32D=2]="faxG32D";a[a.faxG4=3]="faxG4";a[a.lzw=4]="lzw";a[a.jbig2=5]="jbig2"})(c.OneBitImageCompressionType||(c.OneBitImageCompressionType={}));(function(a){a[a.flateJpeg=0]="flateJpeg";a[a.lzwJpeg=1]="lzwJpeg";a[a.flate=2]="flate";a[a.lzw=3]="lzw";a[a.jpeg=4]="jpeg";a[a.flateJpx=5]="flateJpx";a[a.lzwJpx=6]="lzwJpx";a[a.jpx=7]="jpx"})(c.ColoredImageCompressionType||(c.ColoredImageCompressionType={}));(function(a){a[a.original=
0]="original";a[a.half=1]="half";a[a.quarter=2]="quarter"})(c.DocumentImageOverTextSize||(c.DocumentImageOverTextSize={}));(function(a){a[a.none=0]="none";a[a.strict=1]="strict";a[a.relaxed=2]="relaxed"})(c.DocumentImageOverTextMode||(c.DocumentImageOverTextMode={}));(function(a){a[a.auto=0]="auto";a[a.nonFramed=1]="nonFramed";a[a.framed=2]="framed"})(c.DocumentTextMode||(c.DocumentTextMode={}))})(c.Writers||(c.Writers={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){var h=function(a){function e(b){a.call(this);this._document=null;this._internalAddCount=0;b&&(this._document=b)}__extends(e,a);e.prototype.dispose=function(){for(var b=0;b<this.count;b++){var a=this.item(b);a&&a.document===this._document&&a.dispose()}this._document=null};Object.defineProperty(e.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"originalFirstPageNumber",{get:function(){return this._document.values.originalFirstPageNumber},
enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"OriginalLastPageNumber",{get:function(){return this._document.values.originalLastPageNumber},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"OriginalPageCount",{get:function(){return this._document.values.originalPageCount},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"defaultPageSize",{get:function(){return this._document.values.defaultPageSize},set:function(b){if(b.isEmpty)throw"Size must not be empty";
this._document.values.defaultPageSize=b.clone()},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"defaultResolution",{get:function(){return this._document.values.defaultResolution},set:function(b){if(0>b)throw"Value must be greater than or equal to 0";this._document.values.defaultResolution=b},enumerable:!0,configurable:!0});e.prototype.getTargetPageNumber=function(b,a){if(0>=a||!b||b===this._document)return a;if(b.pages.count<a)return 0;var e=this.indexOf(b.pages.item(a-1));return-1==
e?0:e+1};e.prototype.beginAdd=function(){this._internalAddCount++};e.prototype.endAdd=function(){this._internalAddCount--};e.prototype.createPage=function(b,a){return this._createPage(b,a,-1)};e.prototype._createPage=function(b,a,e){return this._document.createPage(b,a,e)};e.prototype.insertItem=function(b,e){if(null==e)throw"Item cannot be null";0===this._internalAddCount&&this._document.canModify();e.document?this._document.documents.tryAdd(e.document):e.setDocument(this.document,b+1);e.size.isEmpty&&
0===this._internalAddCount&&e.setSize(this.defaultPageSize);a.prototype.insertItem.call(this,b,e);0==this._internalAddCount&&(this._document.cacheStatus=c.DocumentCacheStatus.notSynced)};e.prototype.removeItem=function(b){0===this._internalAddCount&&this._document.canModify();var e=this.item(b);e.document!==this._document?this._document.documents.tryRemove(e.document):e.setDocument(null,0);a.prototype.removeItem.call(this,b);0==this._internalAddCount&&(this._document.cacheStatus=c.DocumentCacheStatus.notSynced)};
e.prototype.setItem=function(b,a){if(null==a)throw"Item cannot be null";0==this._internalAddCount&&this._document.canModify();this[b]!=a&&(this.removeItem(b),this.insertItem(b,a))};e.prototype.moveItem=function(b,e){0==this._internalAddCount&&this._document.canModify();a.prototype.moveItem.call(this,b,e)};e.prototype.clearItems=function(){for(0==this._internalAddCount&&this._document.canModify();0<this.count;)this.removeItem(0)};return e}(d.LeadCollection);c.DocumentPages=h})(d.Documents||(d.Documents=
{}))})(lt||(lt={}));
(function(d){(function(c){(function(c){var a=function(){function a(){this._size=d.LeadSizeD.empty;this._pageNumber=this._resolution=0;this._originalPageNumber=-1;this._hasEmbeddedAnnotations=this._isAnnotationsModified=this._isDeleted=!1;this._documentId=null}a.fromJson=function(b){if(!b)return null;var g=new a;return!g.copyFromJson(b)?null:g};a.prototype.copyFromJson=function(b){return!b||!c.PropertyBag.copyMatchingProperties(b,this,["pageNumber"])?!1:!0};Object.defineProperty(a.prototype,"size",
{get:function(){return this._size.clone()},set:function(b){this._size=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"resolution",{get:function(){return this._resolution},set:function(b){this._resolution=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"pageNumber",{get:function(){return this._pageNumber},set:function(b){this._pageNumber=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"originalPageNumber",{get:function(){return this._originalPageNumber},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isDeleted",{get:function(){return this._isDeleted},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isAnnotationsModified",{get:function(){return this._isAnnotationsModified},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"hasEmbeddedAnnotations",{get:function(){return this._hasEmbeddedAnnotations},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"documentId",{get:function(){return this._documentId},
set:function(b){this._documentId=b},enumerable:!0,configurable:!0});return a}();c.DocumentPageValues=a})(c.Internal||(c.Internal={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){var d=function(){function a(){this._bookmarks=[];this._pageLinks=[]}a.prototype.DocumentParseStructureData=function(){};Object.defineProperty(a.prototype,"bookmarks",{get:function(){return this._bookmarks},set:function(a){this._bookmarks=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"pageLinks",{get:function(){return this._pageLinks},set:function(a){this._pageLinks=a},enumerable:!0,configurable:!0});return a}();c.DocumentParseStructureData=d;d=function(){function a(a){this._document=
null;this._bookmarks=[];if(null==a)throw Error("Document cannot be null");this._document=a}a.prototype.dispose=function(){this._document=null};Object.defineProperty(a.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});a.prototype.copyFromJson=function(a,b){var g=this;if(!a&&!b)return!1;a&&0<a.length&&(this._bookmarks=[],a.forEach(function(b){var a=new c.DocumentBookmark;a.copyFromJson(b);g._bookmarks.push(a)}));b&&0<b.length&&b.forEach(function(b,a){var e=
g._document.pages[a];if(!e||!e.copyLinksFromJson(b))return false});return this._document.values.isStructureParsed=!0};Object.defineProperty(a.prototype,"bookmarks",{get:function(){return this._bookmarks},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"parseBookmarks",{get:function(){return this._document.values.parseBookmarks},set:function(a){this._document.values.parseBookmarks=a;this._document.forEachDocument(function(b){b.structure&&(b.structure.parseBookmarks=a)})},enumerable:!0,
configurable:!0});Object.defineProperty(a.prototype,"parsePageLinks",{get:function(){return this._document.values.parsePageLinks},set:function(a){this._document.values.parsePageLinks=a;this._document.forEachDocument(function(b){b.structure&&(b.structure.parsePageLinks=a)})},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isParsed",{get:function(){var a=this._document.values.isStructureParsed;if(!a&&this._document.hasDocuments)for(var b=0;b<this._document.documents.count&&!a;b++){var g=
this._document.documents.item(b);g.isStructureSupported&&g.structure.isParsed&&(a=!0)}return a},enumerable:!0,configurable:!0});a.prototype.parse=function(){var e=this,b=$.Deferred();if(this.isParsed)return b.resolve(this._document),b.promise();var g=this._document,g={url:[c.DocumentFactory.serviceUri,a._controllerName,"ParseStructure"].join("/"),type:"POST",contentType:"application/json",data:JSON.stringify({documentId:g.documentId,parseBookmarks:this.parseBookmarks,parsePageLinks:this.parsePageLinks,
userData:this._document.serviceUserData})};if(!c.DocumentFactory.doPrepareAjax(this,a._className,"Parse",g))return b.reject(null,"Canceled","Canceled").promise();$.ajax(g).done(function(a){if(!a.hasOwnProperty("bookmarks")||!a.hasOwnProperty("pageLinks"))return b.reject(null,null,"Invalid object"),b.promise();e.copyFromJson(a.bookmarks,a.pageLinks)?b.resolve(e._document,"undefined"===typeof a.userData?null:a.userData):b.reject(null,null,"Invalid object")}).fail(function(a,e,g){c.DocumentFactory.log(g);
b.reject(a,e,g)});return b.promise()};a._className="DocumentStructure";a._controllerName="Structure";return a}();c.DocumentStructure=d})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){(function(a){a[a.auto=0]="auto";a[a.svgOnly=1]="svgOnly";a[a.ocrOnly=2]="ocrOnly"})(c.DocumentTextExtractionMode||(c.DocumentTextExtractionMode={}));var d=function(){function a(a){this._document=a}Object.defineProperty(a.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});a.fromJson=function(e,b){if(null==e)return null;var g=new a(b);return!g.copyFromJson(e)?null:g};a.prototype.copyFromJson=function(a){return null==a||!c.Internal.PropertyBag.copyMatchingProperties(a,
this,["document","linkPatterns","defLinkPatterns"])?!1:!0};Object.defineProperty(a.prototype,"textExtractionMode",{get:function(){return this._document.values.textExtractionMode},set:function(a){this._document.values.textExtractionMode=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"autoParseLinks",{get:function(){return this._document.values.autoParseLinks},set:function(a){this._document.values.autoParseLinks=a},enumerable:!0,configurable:!0});Object.defineProperty(a,"linkPatterns",
{get:function(){return a._linkPatterns},enumerable:!0,configurable:!0});a.resetLinkPatterns=function(){a._linkPatterns=[];a._linkPatterns.push(RegExp(a._defaultLinkPatterns[0],a._defaultLinkFlags[0]));a._linkPatterns.push(RegExp(a._defaultLinkPatterns[1],a._defaultLinkFlags[1]))};a._defaultLinkPatterns=["((?:[a-z][\\w-]+:(?:/{1,3}|[a-z0-9%])|www\\d{0,3}[.]|ftp\\d{0,3}[.]|mailto\\d{0,3}[@]|[a-z0-9.\\-]+[.][a-z]{2,4}/)(?:[^\\s()<>]+|\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\))+(?:\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\)|[^\\s`!()\\[\\]{};:'\".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))",
"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?"];a._defaultLinkFlags=["gi","g"];a._linkPatterns=[RegExp(a._defaultLinkPatterns[0],a._defaultLinkFlags[0]),RegExp(a._defaultLinkPatterns[1],a._defaultLinkFlags[1])];return a}();c.DocumentText=d})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){(function(h){var a=function(){function a(){this._annotationsUri=null;this._defaultBitsPerPixel=0;this._defaultPageSize=d.LeadSizeD.empty;this._defaultResolution=300;this._documentType=this._name=this._documentId=null;this._fileLength=this._originalPageCount=this._originalLastPageNumber=this._originalFirstPageNumber=0;this._isStructureSupported=this._isStructureParsed=this._isReadOnly=this._isEncrypted=this._isDownloaded=this._isDecrypted=!1;this._password=this._mimeType=
null;this._maximumImagePixelSize=0;this._thumbnailPixelSize=d.LeadSizeD.create(128,128);this._unembedSvgImages=!1;this._cacheUri=this._uri=null;this._isResolutionsSupported=this._isSvgViewingPreferred=this._isSvgSupported=!1;this._textExtractionMode=c.DocumentTextExtractionMode.auto;this._parsePageLinks=this._parseBookmarks=this._autoParseLinks=!0;this._lastCacheSyncTime=new Date}a.fromJson=function(b){if(null==b)return null;var g=new a;return!g.copyFromJson(b)?null:g};a.prototype.copyFromJson=function(b){return null==
b||!h.PropertyBag.copyMatchingProperties(b,this,null)?!1:!0};Object.defineProperty(a.prototype,"annotationsUri",{get:function(){return this._annotationsUri},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"defaultBitsPerPixel",{get:function(){return this._defaultBitsPerPixel},set:function(b){this._defaultBitsPerPixel=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"defaultPageSize",{get:function(){return this._defaultPageSize},set:function(b){this._defaultPageSize=
b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"defaultResolution",{get:function(){return this._defaultResolution},set:function(b){this._defaultResolution=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"documentId",{get:function(){return this._documentId},set:function(b){this._documentId=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"name",{get:function(){return this._name},set:function(b){this._name=b},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"documentType",{get:function(){return this._documentType},set:function(b){this._documentType=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"originalFirstPageNumber",{get:function(){return this._originalFirstPageNumber},set:function(b){this._originalFirstPageNumber=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"originalLastPageNumber",{get:function(){return this._originalLastPageNumber},set:function(b){this._originalLastPageNumber=
b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"originalPageCount",{get:function(){return this._originalPageCount},set:function(b){this._originalPageCount=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"fileLength",{get:function(){return this._fileLength},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isDecrypted",{get:function(){return this._isDecrypted},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isDownloaded",
{get:function(){return this._isDownloaded},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isEncrypted",{get:function(){return this._isEncrypted},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isReadOnly",{get:function(){return this._isReadOnly},set:function(b){this._isReadOnly=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isStructureParsed",{get:function(){return this._isStructureParsed},set:function(b){this._isStructureParsed=b},enumerable:!0,
configurable:!0});Object.defineProperty(a.prototype,"isStructureSupported",{get:function(){return this._isStructureSupported},set:function(b){this._isStructureSupported=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"mimeType",{get:function(){return this._mimeType},set:function(b){this._mimeType=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"password",{get:function(){return this._password},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"maximumImagePixelSize",{get:function(){return this._maximumImagePixelSize},set:function(b){this._maximumImagePixelSize=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"thumbnailPixelSize",{get:function(){return this._thumbnailPixelSize},set:function(b){this._thumbnailPixelSize=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"unembedSvgImages",{get:function(){return this._unembedSvgImages},set:function(b){this._unembedSvgImages=b},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cacheUri",{get:function(){return this._cacheUri},set:function(b){this._cacheUri=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isSvgSupported",{get:function(){return this._isSvgSupported},set:function(b){this._isSvgSupported=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isSvgViewingPreferred",{get:function(){return this._isSvgViewingPreferred},
set:function(b){this._isSvgViewingPreferred=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isResolutionsSupported",{get:function(){return this._isResolutionsSupported},set:function(b){this._isResolutionsSupported=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"textExtractionMode",{get:function(){return this._textExtractionMode},set:function(b){this._textExtractionMode=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"autoParseLinks",
{get:function(){return this._autoParseLinks},set:function(b){this._autoParseLinks=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"parseBookmarks",{get:function(){return this._parseBookmarks},set:function(b){this._parseBookmarks=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"parsePageLinks",{get:function(){return this._parsePageLinks},set:function(b){this._parsePageLinks=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"lastCacheSyncTime",
{get:function(){return this._lastCacheSyncTime},set:function(b){this._lastCacheSyncTime=b},enumerable:!0,configurable:!0});return a}();h.DocumentValues=a})(c.Internal||(c.Internal={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){var h=function(){function a(a){this._document=a}a.prototype.dispose=function(){this._document=null};Object.defineProperty(a.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isSvgSupported",{get:function(){var a=this._document.values.isSvgSupported;if(!a&&this._document.hasDocuments)for(var b=0;b<this._document.documents.count&&!a;b++)a=this._document.documents.item(b).images.isSvgSupported;return a},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isSvgViewingPreferred",{get:function(){var a=this._document.values.isSvgViewingPreferred;if(!a&&this._document.hasDocuments)for(var b=0;b<this._document.documents.count&&!a;b++)a=this._document.documents.item(b).images.isSvgViewingPreferred;return a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isResolutionsSupported",{get:function(){var a=this._document.values.isResolutionsSupported;if(!a&&this._document.hasDocuments)for(var b=
0;b<this._document.documents.count&&!a;b++)a=this._document.documents.item(b).images.isResolutionsSupported;return a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"defaultBitsPerPixel",{get:function(){return this._document.defaultBitsPerPixel},set:function(a){switch(a){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 12:case 16:case 24:case 32:case 48:case 64:break;default:throw Error("Invalid bits per pixel value");}this._document.defaultBitsPerPixel=a;this._document.forEachDocument(function(b){b.images.defaultBitsPerPixel=
a})},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"maximumImagePixelSize",{get:function(){return this._document.values.maximumImagePixelSize},set:function(a){if(0>a)throw Error("Must have a value equal to or greater than 0");this._document.values.maximumImagePixelSize=a;this._document.forEachDocument(function(b){b.images.maximumImagePixelSize=a})},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"thumbnailPixelSize",{get:function(){return this._document.values.thumbnailPixelSize},
set:function(a){if(a.isEmpty||0>a.width||0>a.height)throw Error("Must have width and height values greater than 0");this._document.values.thumbnailPixelSize=a;this._document.forEachDocument(function(b){b.images.thumbnailPixelSize=a})},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"unembedSvgImages",{get:function(){return this._document.values.unembedSvgImages},set:function(a){this._document.values.unembedSvgImages=a;this._document.forEachDocument(function(b){b.images.unembedSvgImages=
a})},enumerable:!0,configurable:!0});Object.defineProperty(a,"elementAjaxMethod",{get:function(){return a._elementAjaxMethod},set:function(c){a._elementAjaxMethod=c.toUpperCase()},enumerable:!0,configurable:!0});Object.defineProperty(a,"elementUrlMode",{get:function(){return a._elementUrlMode},set:function(c){a._elementUrlMode=c},enumerable:!0,configurable:!0});a.getImageScale=function(a,b){if(0==b||a.isEmpty||0==a.width||0==a.height)return 1;var g=1;if(a.width>b||a.height>b)g=a.width>a.height?a.width/
b:a.height/b;return g};a.scaleImageSize=function(a,b){return 1==b?a.clone():d.LeadSizeD.create(a.width*b+0.5|0,a.height*b+0.5|0)};a.prototype.getThumbnailsGridUrlParams=function(a,b,g){var c=this._document.images.thumbnailPixelSize;return{documentId:this._document.documentId,firstPageNumber:a,lastPageNumber:b,maximumGridWidth:g,width:c.width,height:c.height,userData:this._document.serviceUserData}};a.prototype.getThumbnailsGrid=function(a,b,g){return this.getThumbnailsGridUrl(a,b,g)};a.prototype.getThumbnailsGridUrl=
function(e,b,g){return c.Internal.ImageRequestHelper.createFullUrl(c.Internal.ImageRequestHelper.createBaseUrl(a._controllerName,a._getThumbnailsGridActionName),this.getThumbnailsGridUrlParams(e,b,g))};a.prototype.getThumbnailsGridElement=function(e,b,g,d){var i=$.Deferred(),l=c.Internal.ImageRequestHelper.createBaseUrl(a._controllerName,a._getThumbnailsGridActionName),e=this.getThumbnailsGridUrlParams(e,b,g);return c.Internal.ImageRequestHelper.doGenericElementLoad(i,d,l,e,a._className,a._getThumbnailsGridMethodName)};
a._className="DocumentImages";a._controllerName="Images";a._elementAjaxMethod="GET";a._elementUrlMode=d.ImageLoaderUrlMode.imageUrl;a._getThumbnailsGridActionName="GetThumbnailsGrid";a._getThumbnailsGridMethodName="GetThumbnailsGrid";return a}();c.DocumentImages=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){var h=function(){function a(){this._pageFitType=c.DocumentPageFitType.none;this._pageNumber=0;this._position=d.LeadPointD.empty;this._zoomPercent=0}a.fromJson=function(a){if(null==a)return null;var b=new c.DocumentLink;return!b.copyFromJson(a)?null:b};a.prototype.copyFromJson=function(a){return null==a||!c.Internal.PropertyBag.copyMatchingProperties(a,this,null)?!1:!0};Object.defineProperty(a.prototype,"pageFitType",{get:function(){return this._pageFitType},set:function(a){this._pageFitType=
a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"pageNumber",{get:function(){return this._pageNumber},set:function(a){this._pageNumber=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"position",{get:function(){return this._position.clone()},set:function(a){this._position=a.clone()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"zoomPercent",{get:function(){return this._zoomPercent},set:function(a){this._zoomPercent=a},enumerable:!0,configurable:!0});
a.prototype.clone=function(){var c=new a;c.pageFitType=this.pageFitType;c.pageNumber=this.pageNumber;c.position=this.position.clone();c.zoomPercent=this.zoomPercent;return c};return a}();c.DocumentLinkTarget=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){(function(a){a[a.value=0]="value";a[a.targetPage=1]="targetPage"})(c.DocumentLinkType||(c.DocumentLinkType={}));var h=c.DocumentLinkType,a=function(){function a(){this._bounds=d.LeadRectD.empty;this._value="";this._linkType=h.value;this._target=new c.DocumentLinkTarget}a.fromJson=function(b){if(null==b)return null;var g=new a;return!g.copyFromJson(b)?null:g};a.prototype.copyFromJson=function(b){return null==b||!c.Internal.PropertyBag.copyMatchingProperties(b,this,null)?!1:
!0};Object.defineProperty(a.prototype,"bounds",{get:function(){return this._bounds},set:function(b){this._bounds=b.clone()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"linkType",{get:function(){return this._linkType},set:function(b){this._linkType=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"value",{get:function(){return this._value},set:function(b){this._value=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"target",{get:function(){return this._target},
set:function(b){this._target.copyFromJson(b)},enumerable:!0,configurable:!0});return a}();c.DocumentLink=a})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){(function(a){a[a.none=0]="none";a[a.allowPolylineText=1]="allowPolylineText";a[a.dropImages=2]="dropImages";a[a.dropShapes=4]="dropShapes";a[a.dropText=8]="dropText";a[a.forConversion=16]="forConversion";a[a.ignoreXmlParsingErrors=32]="ignoreXmlParsingErrors";a[a.forceRealText=64]="forceRealText";a[a.forceTextPath=1]="forceTextPath"})(c.DocumentGetSvgOptions||(c.DocumentGetSvgOptions={}));var h=function(){function a(){this._values=new c.Internal.DocumentPageValues;this._document=
null;this._links=[];this.customData={}}a.prototype.dispose=function(){this._document=null};a.prototype.setDocument=function(a,b){this._document=a;this._values.documentId=this._document?this._document.documentId:null;this._values.pageNumber=b};a.fromJson=function(c,b,g){if(null==c)return null;b=new a;return!b.copyFromJson(c,g)?null:b};a.prototype.copyFromJson=function(a,b){if(null==a||!a.hasOwnProperty("values")||!this._values.copyFromJson(a.values))return!1;this._values.pageNumber=b;return!0};a.prototype.setSize=
function(a){if(a.isEmpty)throw"size must not be empty";this._values.size=a.clone()};Object.defineProperty(a.prototype,"isLocal",{get:function(){return this._isLocal},set:function(a){this._isLocal=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"size",{get:function(){return this.values.size.clone()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"resolution",{get:function(){return this.values.resolution},set:function(a){this.values.resolution=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"pageNumber",{get:function(){return this.values.pageNumber},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"imageScale",{get:function(){return null==this._document?1:c.DocumentImages.getImageScale(this._document.sizeToPixels(this.values.size),this._document.images.maximumImagePixelSize)},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"originalPageNumber",{get:function(){return this.values.originalPageNumber},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isDeleted",{get:function(){return this.values.isDeleted},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isAnnotationsModified",{get:function(){return this.values.isAnnotationsModified},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"hasEmbeddedAnnotations",{get:function(){return this.values.hasEmbeddedAnnotations},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0});a.prototype.parseAndMergeValueLinks=function(a){null==a||0==a.characters.length||this.mergeLinks(a.parseLinks(c.DocumentText.linkPatterns))};a.prototype.removeSmallerDuplicate=function(a,b){for(var g=a.length-1;0<=g;g--)b.bounds.containsRect(a[g].bounds)&&a.splice(g,1)};a.prototype.mergeLinks=function(a){if(!(null==a||0==a.length)){for(var b=0;b<a.length;b++)this.removeSmallerDuplicate(this._links,
a[b]);this._links=this._links.concat(a)}};a.prototype.copyLinksFromJson=function(a){var b=[];if(null==a)return!0;for(var g=0;g<a.length;g++){var d=c.DocumentLink.fromJson(a[g]);b.push(d)}this.mergeLinks(b);return!0};a.prototype.getLinks=function(){return this._links};a.prototype.getText=function(d){var b=this,g=$.Deferred();if(this._isLocal)return g.resolve(null).promise();d={url:[c.DocumentFactory.serviceUri,a._controllerName,"GetText"].join("/"),type:"POST",contentType:"application/json",data:JSON.stringify({documentId:this._document.documentId,
pageNumber:this.pageNumber,clip:d,textExtractionMode:this._document.text.textExtractionMode,userData:this._document.serviceUserData})};if(!c.DocumentFactory.doPrepareAjax(this,a._className,"GetText",d))return g.reject(null,"Canceled","Canceled").promise();$.ajax(d).done(function(a){var d=c.DocumentPageText.fromJson(a.pageText);b._document.text.autoParseLinks&&b.parseAndMergeValueLinks(d);g.resolve(d,"undefined"===typeof a.userData?null:a.userData)}).fail(function(b,a,d){c.DocumentFactory.log(d);g.reject(b,
a,d)});return g.promise()};a.prototype.getAnnotations=function(e){var b=$.Deferred();if(this.isLocal){var g=null;e&&(g=c.DocumentAnnotations.createEmptyContainer(this),g.pageNumber=this.document.pages.indexOf(this)+1);return b.resolve(g).promise()}if(this._isLocal)return b.resolve(null).promise();e={url:[c.DocumentFactory.serviceUri,a._controllerName,"GetAnnotations"].join("/"),type:"POST",contentType:"application/json",data:JSON.stringify({documentId:this._document.documentId,pageNumber:this.pageNumber,
createEmpty:e,userData:this._document.serviceUserData})};if(!c.DocumentFactory.doPrepareAjax(this,a._className,"GetAnnotations",e))return b.reject(null,"Canceled","Canceled").promise();$.ajax(e).done(function(a){var g=a.annotations,c=null;null!=g&&(c=(new d.Annotations.Core.AnnCodecs).load(g,0));b.resolve(c,"undefined"===typeof a.userData?null:a.userData)}).fail(function(a,g,d){c.DocumentFactory.log(d);b.reject(a,g,d)});return b.promise()};a.prototype.setAnnotations=function(e){var b=[c.DocumentFactory.serviceUri,
a._controllerName,"SetAnnotations"].join("/"),g=null;null!=e&&(g=(new d.Annotations.Core.AnnCodecs).save(e,d.Annotations.Core.AnnFormat.annotations,null,this.pageNumber));var e={documentId:this._document.documentId,pageNumber:this.pageNumber,annotations:g,userData:this._document.serviceUserData},m=$.Deferred(),b={url:b,type:"POST",contentType:"application/json",data:JSON.stringify(e)};if(!c.DocumentFactory.doPrepareAjax(this,a._className,"SetAnnotations",b))return m.reject(null,"Canceled","Canceled").promise();
$.ajax(b).done(function(b){m.resolve("undefined"===typeof b.userData?null:b.userData)}).fail(function(b,a,g){c.DocumentFactory.log(g);m.reject(b,a,g)});return m.promise()};a.prototype.getThumbnailImageUrlParams=function(){var a=this._document.images.thumbnailPixelSize;return{documentId:this._document.documentId,pageNumber:this.pageNumber,width:a.width,height:a.height,userData:this._document.serviceUserData}};a.prototype.getThumbnailImage=function(){return this.getThumbnailImageUrl()};a.prototype.getThumbnailImageUrl=
function(){return this._isLocal?null:c.Internal.ImageRequestHelper.createFullUrl(c.Internal.ImageRequestHelper.createBaseUrl(a._controllerName,a._getThumbnailImageActionName),this.getThumbnailImageUrlParams())};a.prototype.getThumbnailImageElement=function(d){var b=$.Deferred();if(this._isLocal)return b.resolve(null).promise();var g=c.Internal.ImageRequestHelper.createBaseUrl(a._controllerName,a._getThumbnailImageActionName),m=this.getThumbnailImageUrlParams();return c.Internal.ImageRequestHelper.doGenericElementLoad(b,
d,g,m,a._className,a._getThumbnailImageMethodName)};a.prototype.getImageUrlParams=function(a,b){var g={documentId:this._document.documentId,pageNumber:this.pageNumber,userData:this._document.serviceUserData};-1!==a&&-1!==b&&(g.width=a,g.height=b);return g};a.prototype.getImage=function(){return this.getImageUrl()};a.prototype.getImageUrl=function(){return this._isLocal?null:c.Internal.ImageRequestHelper.createFullUrl(c.Internal.ImageRequestHelper.createBaseUrl(a._controllerName,a._getImageActionName),
this.getImageUrlParams(-1,-1))};a.prototype.getImageResized=function(a,b){return this.getImageResizedUrl(a,b)};a.prototype.getImageResizedUrl=function(d,b){return this._isLocal?null:c.Internal.ImageRequestHelper.createFullUrl(c.Internal.ImageRequestHelper.createBaseUrl(a._controllerName,a._getImageActionName),this.getImageUrlParams(d,b))};a.prototype.getImageElement=function(c){return this.internalGetImageElement(a._getImageMethodName,-1,-1,c)};a.prototype.getImageResizedElement=function(c,b,g){return this.internalGetImageElement(a._getImageResizedMethodName,
c,b,g)};a.prototype.internalGetImageElement=function(d,b,g,m){var i=$.Deferred();if(this._isLocal)return i.resolve(null).promise();var l=c.Internal.ImageRequestHelper.createBaseUrl(a._controllerName,a._getImageActionName),b=this.getImageUrlParams(b,g);return c.Internal.ImageRequestHelper.doGenericElementLoad(i,m,l,b,a._className,d)};Object.defineProperty(a.prototype,"isSvgSupported",{get:function(){return this._document.images.isSvgSupported},enumerable:!0,configurable:!0});a.prototype.getSvgBackImageUrlParams=
function(a){return{documentId:this._document.documentId,pageNumber:this.pageNumber,backColor:a,userData:this._document.serviceUserData}};a.prototype.getSvgBackImage=function(a){return this.getSvgBackImageUrl(a)};a.prototype.getSvgBackImageUrl=function(d){return this._isLocal?null:c.Internal.ImageRequestHelper.createFullUrl(c.Internal.ImageRequestHelper.createBaseUrl(a._controllerName,a._getSvgBackImageActionName),this.getSvgBackImageUrlParams(d))};a.prototype.getSvgBackImageElement=function(d,b){var g=
$.Deferred();if(this._isLocal)return g.resolve(null).promise();var m=c.Internal.ImageRequestHelper.createBaseUrl(a._controllerName,a._getSvgBackImageActionName),i=this.getSvgBackImageUrlParams(d);return c.Internal.ImageRequestHelper.doGenericElementLoad(g,b,m,i,a._className,a._getSvgBackImageMethodName)};a.prototype.getSvgUrlParams=function(a){return{documentId:this._document.documentId,pageNumber:this.pageNumber,options:a,unembedImages:this._document.images.unembedSvgImages,userData:this._document.serviceUserData}};
a.prototype.getSvg=function(a){return this.getSvgUrl(a)};a.prototype.getSvgUrl=function(d){return this._isLocal?null:c.Internal.ImageRequestHelper.createFullUrl(c.Internal.ImageRequestHelper.createBaseUrl(a._controllerName,a._getSvgActionName),this.getSvgUrlParams(d))};a.prototype.getSvgElement=function(d,b){var g=$.Deferred();if(this._isLocal)return g.resolve(null).promise();var m=c.Internal.ImageRequestHelper.createBaseUrl(a._controllerName,a._getSvgActionName),i=this.getSvgUrlParams(d);return c.Internal.ImageRequestHelper.doGenericElementLoad(g,
b,m,i,a._className,a._getSvgMethodName)};a.prototype.readBarcodes=function(d,b,g){var m=[c.DocumentFactory.serviceUri,a._controllerName,"ReadBarcodes"].join("/"),d={documentId:this._document.documentId,pageNumber:this.pageNumber,bounds:d,maximumBarcodes:b,symbologies:g,userData:this._document.serviceUserData},i=$.Deferred(),m={url:m,type:"POST",contentType:"application/json",data:JSON.stringify(d)};if(!c.DocumentFactory.doPrepareAjax(this,a._className,"ReadBarcodes",m))return i.reject(null,"Canceled",
"Canceled").promise();$.ajax(m).done(function(a){var b=a.barcodes.map(function(a){return c.Barcode.BarcodeData.fromJson(a)});i.resolve(b,"undefined"===typeof a.userData?null:a.userData)}).fail(function(a,b,g){c.DocumentFactory.log(g);i.reject(a,b,g)});return i.promise()};a._className="DocumentPage";a._controllerName="Page";a._getThumbnailImageActionName="GetThumbnail";a._getThumbnailImageMethodName="GetThumbnailImage";a._getImageActionName="GetImage";a._getImageMethodName="GetImage";a._getImageResizedActionName=
"GetImage";a._getImageResizedMethodName="GetImageResized";a._getSvgBackImageActionName="GetSvgBackImage";a._getSvgBackImageMethodName="GetSvgBackImage";a._getSvgActionName="GetSvg";a._getSvgMethodName="GetSvg";return a}();c.DocumentPage=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){(function(a){a[a.normal=0]="normal";a[a.bold=1]="bold";a[a.italic=2]="italic";a[a.underline=4]="underline"})(c.DocumentFontStyles||(c.DocumentFontStyles={}));(function(a){a[a.none=0]="none";a[a.fit=1]="fit";a[a.fitAlways=2]="fitAlways";a[a.fitWidth=3]="fitWidth";a[a.fitHeight=4]="fitHeight"})(c.DocumentPageFitType||(c.DocumentPageFitType={}));var h=function(){function a(){this._children=[]}a.fromJson=function(c){if(null==c)return null;var b=new a;return!b.copyFromJson(c)?
null:b};a.prototype.copyFromJson=function(e){if(null==e||!e.hasOwnProperty("fontStyles")||!e.hasOwnProperty("children")||!e.hasOwnProperty("target")||!e.hasOwnProperty("title"))return!1;this.fontStyles=e.fontStyles;this.title=e.title;var b=new c.DocumentLinkTarget,g=e.target;if(!g.hasOwnProperty("pageFitType")||!g.hasOwnProperty("pageNumber")||!g.hasOwnProperty("position")||!g.hasOwnProperty("zoomPercent"))return!1;b.pageFitType=g.pageFitType;b.pageNumber=g.pageNumber;b.position=d.LeadPointD.fromJSON(g.position);
b.zoomPercent=g.zoomPercent;this.target=b;for(b=0;b<e.children.length;b++)this.children.push(a.fromJson(e.children[b]));return!0};a.prototype.clone=function(c){var b=new a;b.fontStyles=this.fontStyles;b.target=this.target.clone();b.title=this.title;if(c)for(c=0;c<this.children.length;c++)b.children.push(this.children[c].clone(!0));return b};Object.defineProperty(a.prototype,"fontStyles",{get:function(){return this._fontStyles},set:function(a){this._fontStyles=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"children",{get:function(){return this._children},set:function(a){this._children=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"target",{get:function(){return this._target},set:function(a){this._target=a.clone()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"title",{get:function(){return this._title},set:function(a){this._title=a},enumerable:!0,configurable:!0});return a}();c.DocumentBookmark=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
if(lt.LTHelper.browser==lt.LTBrowser.internetExplorer&&9>=lt.LTHelper.version)try{$.support.cors=!0}catch(e$$8){lt.LTHelper.logWarning("IE9 does not support AJAX without a special jQuery flag. Please ensure jQuery is properly added to the page.")}
(function(d){(function(c){var h=function(){return function(){this.mimeType=this.documentId=null}}();c.CreateDocumentOptions=h;h=function(){return function(){this.originalPageNumber=this.pageNumber=0;this.size=d.LeadSizeD.empty;this.resolution=0}}();c.DocumentPageDescriptor=h;h=function(){return function(){this.autoSaveToCache=this.autoDeleteFromCache=!0;this.isReadOnly=this.autoDisposeDocuments=!1;this.defaultPageSize=d.LeadSizeD.empty;this.defaultResolution=0;this.defaultBitsPerPixel=24;this.maximumImagePixelSize=
0;this.thumbnailPixelSize=d.LeadSizeD.create(128,128);this.isResolutionsSupported=this.isSvgViewingPreferred=this.isSvgSupported=this.isStructureSupported=this.isStructureParsed=this.unembedSvgImages=!1;this.textExtractionMode=c.DocumentTextExtractionMode.auto;this.parsePageLinks=this.parseBookmarks=this.autoParseLinks=!0}}();c.DocumentDescriptor=h})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){var d=function(){return function(){this.documentId=null;this.resolution=0;this.annotationsUri=this.password=this.name=null;this.loadEmbeddedAnnotations=!1;this.lastPageNumber=this.firstPageNumber=this.maximumImagePixelSize=0}}();c.LoadDocumentOptions=d})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){var h=function(){function a(){this._bounds=d.LeadRectD.empty;this._isRightToLeft=this._isLineBreak=this._isEndOfLine=this._isEndOfWord=!1}Object.defineProperty(a.prototype,"code",{get:function(){return this._code},set:function(a){this._code=a},enumerable:!0,configurable:!0});a.prototype.codeAsString=function(){return String.fromCharCode(this.code)};Object.defineProperty(a.prototype,"bounds",{get:function(){return this._bounds.clone()},set:function(a){this._bounds=a.clone()},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isEndOfWord",{get:function(){return this._isEndOfWord},set:function(a){this._isEndOfWord=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isEndOfLine",{get:function(){return this._isEndOfLine},set:function(a){this._isEndOfLine=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isLineBreak",{get:function(){return this._isLineBreak},set:function(a){this._isLineBreak=a},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"isRightToLeft",{get:function(){return this._isRightToLeft},set:function(a){this._isRightToLeft=a},enumerable:!0,configurable:!0});return a}();c.DocumentCharacter=h;var a=function(){function a(){this._value=null;this._bounds=d.LeadRectD.empty}Object.defineProperty(a.prototype,"value",{get:function(){return this._value},set:function(a){this._value=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"bounds",{get:function(){return this._bounds},set:function(a){this._bounds=
a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"firstCharacterIndex",{get:function(){return this._firstCharacterIndex},set:function(a){this._firstCharacterIndex=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"lastCharacterIndex",{get:function(){return this._lastCharacterIndex},set:function(a){this._lastCharacterIndex=a},enumerable:!0,configurable:!0});return a}();c.DocumentWord=a;var e=function(){function b(a){this._textMap=this._text=this._words=this._characters=
null;this._characters=a}b.fromJson=function(a){if(null==a||!a.hasOwnProperty("characters"))return null;var c=new b(null);c._characters=[];for(var e=0;e<a.characters.length;e++){var l=new h;l.isEndOfWord=a.characters[e].isEndOfWord;l.isEndOfLine=a.characters[e].isEndOfLine;l.isLineBreak=a.characters[e].isLineBreak;l.isRightToLeft=a.characters[e].isRightToLeft;l.code=a.characters[e].code;l.bounds=d.LeadRectD.fromJSON(a.characters[e].bounds);c._characters.push(l)}return c};Object.defineProperty(b.prototype,
"characters",{get:function(){return this._characters},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"words",{get:function(){return this._words},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"textMap",{get:function(){return this._textMap},enumerable:!0,configurable:!0});b.prototype.clearBuildData=function(){this._textMap=this._text=this._words=null};b.prototype.buildWords=
function(){for(var c=0,m=this._characters.length,e=[],l=!1,j=-1;c<m;){for(var f=d.LeadRectD.empty,p=c,k=!1,o=!0,n=new h;o&&c<m;)n=this._characters[c],o=n.bounds.clone(),f=f.isEmpty?o.clone():d.LeadRectD.unionRects(f,o),o=c<m&&!n.isEndOfWord&&!n.isEndOfLine,c++,n.isRightToLeft&&(k=!0);for(var o="",q=p;q<c;q++)o+=this._characters[q].code;q=new a;q.value=o;q.bounds=f.clone();q.firstCharacterIndex=p;q.lastCharacterIndex=c-1;k&&(q.value=b.reverse(q.value));l&&k?(j=-1==j?e.length-1:j,e.splice(j,0,q)):(-1!=
j&&(this.reverseCharacterPositions(e[j].lastCharacterIndex,e[e.length-1].lastCharacterIndex),j=-1),e.push(q));l=k&&!n.isEndOfLine}this._words=e};b.reverse=function(a){return a.split("").reverse().join("")};b.prototype.reverseCharacterPositions=function(a,b){var c=this._characters[a],d=this._characters[a];d.isEndOfWord=this._characters[b].isEndOfWord;d.isEndOfLine=this._characters[b].isEndOfLine;d.isLineBreak=this._characters[b].isLineBreak;this._characters[a]=d;d=this._characters[b];d.isEndOfWord=
c.isEndOfWord;d.isEndOfLine=c.isEndOfLine;d.isLineBreak=c.isLineBreak;this._characters[b]=d};b.prototype.buildText=function(){this.doBuildText(!1)};b.prototype.buildTextWithMap=function(){this.doBuildText(!0)};b.prototype.doBuildText=function(a){var b=!1;null===this._words&&null!==this._characters&&(this.buildWords(),b=!0);if(null===this._words||0===this._words.length)this._textMap=null,this._text="",b&&(this._words=null);else{this._textMap=a?[]:null;for(var c="",d=this._words.length,e=0;e<d;){var f=
this._words[e];if(null!=f.value&&""!==f.value&&(c+=f.value,a))for(var p=f.firstCharacterIndex;p<=f.lastCharacterIndex;p++)this._textMap.push(p);p=!1;-1!==f.lastCharacterIndex&&(p=this._characters[f.lastCharacterIndex].isEndOfLine);f=e===d-1;p?(f||(c+="\n"),a&&this._textMap.push(-2)):f||(c+=" ",a&&this._textMap.push(-1));e++}b&&(this._words=null);this._text=c}};b.prototype.removeSmallerDuplicate=function(a,b){for(var c=a.length-1;0<=c;c--)b.bounds.containsRect(a[c].bounds)&&a.splice(c,1)};b.prototype.parseLinks=
function(a){var b=[];if(null==a||0===a.length)return b;null==this._textMap&&this.buildTextWithMap();var d=this.text;if(!d||0===d.length)return b;var e=this.textMap;if(!e||0===e.length)return b;for(var j=0;j<a.length;j++)for(var f=null,p=a[j];null!==(f=p.exec(d));){var k=f.index,o=f.index+f[0].length-1,n=this.characters,q=e.length;if(!(0>k||k>=q||0>o||o>=q)){k=e[k];for(q=e[o];-1===k&&k<q;)k++;if(!(k>q)){o=n[k].bounds;for(k+=1;k<=q;k++)o.union(n[q].bounds);n=new c.DocumentLink;n.linkType=c.DocumentLinkType.value;
n.bounds=o;n.value=f[0];this.removeSmallerDuplicate(b,n);b.push(n)}}}return b};b.prototype.clipText=function(a){if(a.isEmpty)return b.fromJson(this);var c=this._characters;if(null==c)return null;var d=[],e=c.length,j=new h;j.isEndOfWord=!1;j.isEndOfLine=!1;for(var f=-1,p=0;p<e;p++){var k=c[p],o=!1,n=k.code;9==n||160==n||5760==n||6158==n||8192<=n&&8202>=n||8232==n||8233==n||8239==n||8287==n||12288==n?o=!0:a.isEmpty||(o=!a.intersectsWith(k.bounds));if(o){if(k.isEndOfWord&&(j.isEndOfWord=!0),k.isEndOfLine)j.isEndOfLine=
!0}else{if(j.isEndOfWord||j.isEndOfLine)-1!=f&&(o=d[f],j.isEndOfWord&&(o.isEndOfWord=!0),j.isEndOfLine&&(o.isEndOfLine=!0),d[f]=o),j.isEndOfWord=!1,j.isEndOfLine=!1;d.push(k);f++}}return new b(d)};return b}();c.DocumentPageText=e})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){var h=function(){function a(){this._length=this._mimeType=this._url=this._name=null}a.fromJson=function(c){if(null==c)return null;var d=new a;return!d.copyFromJson(c)?null:d};a.prototype.copyFromJson=function(a){return null==a?!1:c.Internal.PropertyBag.copyMatchingProperties(a,this,null)};Object.defineProperty(a.prototype,"name",{get:function(){return this._name},set:function(a){this._name=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"url",{get:function(){return this._url},
set:function(a){this._url=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"mimeType",{get:function(){return this._mimeType},set:function(a){this._mimeType=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"length",{get:function(){return this._length},set:function(a){this._length=a},enumerable:!0,configurable:!0});return a}();c.ConvertItem=h;var a=function(){function a(){this._archive=new h;this._document=new h;this._annotations=new h}a.fromJson=function(c){if(null==
c)return null;var d=new a;return!d.copyFromJson(c)?null:d};a.prototype.copyFromJson=function(a){return null==a?!1:c.Internal.PropertyBag.copyMatchingProperties(a,this,null)};Object.defineProperty(a.prototype,"archive",{get:function(){return this._archive},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"annotations",{get:function(){return this._annotations},enumerable:!0,
configurable:!0});return a}();c.DocumentConvertResult=a;var e=function(){function b(){this._isDisposed=this._cacheUriWasOriginallyNull=!1;this._autoDisposeDocuments=!0;this._structure=this._barcodes=this._images=this._annotations=this._documents=this._pages=null;this._values=new c.Internal.DocumentValues;this._text=new c.DocumentText(this);this._cacheStatus=c.DocumentCacheStatus.synced;this._isLocal=!1;this._serviceUserData=null;this._pages=new c.DocumentPages(this);this._documents=new c.DocumentDocuments(this);
this._annotations=new c.DocumentAnnotations(this);this._images=new c.DocumentImages(this);this._barcodes=new c.DocumentBarcodes(this);this._metadata={};this._structure=null}b.fromJson=function(a,c){var d=$.Deferred();if(null==a)return d.resolve(null).promise();var e=new b;e.copyFromJson(a,c).done(function(a){a?d.resolve(e):d.resolve(null)});return d.promise()};b.prototype.copyFromJson=function(a,b){var d=this,e=$.Deferred();if(null==a||!a.hasOwnProperty("values")||!a.hasOwnProperty("pages"))return e.resolve(!1).promise();
var j=this.cacheUri;if(!this._values.copyFromJson(a.values))return e.resolve(!1).promise();this._values.cacheUri?j&&(this.cacheUri=j):(this._cacheUriWasOriginallyNull=!0,this._rebuildCacheUri());if(b){for(var f={},j=this.documentId,p=0;p<a.pages.length;p++){var k=a.pages[p].values.documentId;j.toLowerCase()!==k.toLowerCase()&&void 0===f[k]&&(f[k]=null)}var o=Object.keys(f),n=0,q=o.length,h;if(n<q){var r=function(b){f[o[n]]=b;n++;if(n<q)(h=c.DocumentFactory.tryLoadDocumentFromCache(d,o[n]))?r(h):c.DocumentFactory.loadFromCache(o[n]).done(s).fail(t);
else d.finishCopyFromJson(a,e,f)},s=function(a){r(a)},t=function(){r(null)};(h=c.DocumentFactory.tryLoadDocumentFromCache(this,o[n]))?r(h):c.DocumentFactory.loadFromCache(o[n]).done(s).fail(t)}else this.finishCopyFromJson(a,e,f);return e.promise()}return e.resolve(!0).promise()};b.prototype.finishCopyFromJson=function(a,b,d){var e=this,j=this.documentId;this._pages.beginAdd();for(var f=0;f<a.pages.length;f++){var p=null,k=a.pages[f].values.documentId;if(k)if(j.toLowerCase()===k.toLowerCase())p=c.DocumentPage.fromJson(a.pages[f],
this,f+1);else if(k=d[k]){var o=a.pages[f].values.pageNumber;0<o&&o<=k.pages.count&&(p=k.pages.item(o-1))}p&&this._pages.add(p)}this._pages.endAdd();this._values.isStructureSupported?(this._structure=new c.DocumentStructure(this),this._values.isStructureParsed&&a.hasOwnProperty("structure")&&(d=a.structure,this._structure.copyFromJson(d.bookmarks,d.pageLinks))):this._structure=null;if(a.hasOwnProperty("metadata")){var n=a.metadata;this._metadata={};Object.keys(n).forEach(function(a){e._metadata[a]=
n[a]})}a.hasOwnProperty("text")&&!this._text.copyFromJson(a.text)?b.resolve(!1):b.resolve(!0)};b.rebuildCacheUriValues=function(){if(c.DocumentFactory.documentRefs)for(var a=Object.keys(c.DocumentFactory.documentRefs),b=0;b<a.length;b++){var d=c.DocumentFactory.documentRefs[a[0]];d&&d.document&&d.document._rebuildCacheUri()}};b.prototype._rebuildCacheUri=function(){if(this._cacheUriWasOriginallyNull){var a=[c.DocumentFactory.serviceUri,b._cacheClassName,b._cacheControllerName].join("/");this.cacheUri=
c.Internal.ImageRequestHelper.createFullUrl(a,{documentId:this.documentId,userData:c.DocumentFactory.serviceUserData})}};b.prototype.createDocumentDescriptor=function(){var a=new c.DocumentDescriptor;a.documentId=this._values.documentId;a.name=this._values.name;a.autoDisposeDocuments=this.autoDisposeDocuments;a.isReadOnly=this._values.isReadOnly;a.mimeType=this._values.mimeType;a.defaultPageSize=this._values.defaultPageSize;a.defaultResolution=this._values.defaultResolution;a.defaultBitsPerPixel=
this._values.defaultBitsPerPixel;a.maximumImagePixelSize=this._values.maximumImagePixelSize;a.thumbnailPixelSize=this._values.thumbnailPixelSize;a.unembedSvgImages=this._values.unembedSvgImages;a.documentType=this._values.documentType;a.isStructureParsed=this._values.isStructureParsed;a.isStructureSupported=this._values.isStructureSupported;a.isSvgSupported=this._values.isSvgSupported;a.isSvgViewingPreferred=this._values.isSvgViewingPreferred;a.isResolutionsSupported=this._values.isResolutionsSupported;
a.textExtractionMode=this._values.textExtractionMode;a.autoParseLinks=this._values.autoParseLinks;a.parseBookmarks=this._values.parseBookmarks;a.parsePageLinks=this._values.parsePageLinks;this._metadata&&(a.metadata=JSON.stringify(this._metadata));for(var b=this._pages.count,d=[],e=1;e<=b;e++){var j=this._pages.item(e-1),f=new c.DocumentPageDescriptor;f.documentId=j.values.documentId;f.pageNumber=j.values.pageNumber;f.originalPageNumber=j.values.originalPageNumber;f.size=j.values.size;f.resolution=
j.values.resolution;d.push(f)}a.pages=d;return a};b.create=function(a){if(!a)throw"Options cannot be null";var e=a.documentId?a.documentId:c.Internal.Guid.newGuid(),i=new b;i._values.isSvgSupported=!0;i._values.isSvgViewingPreferred=!0;i._values.isResolutionsSupported=!0;i._values.documentId=e;i._values.mimeType=a.mimeType;i._values.documentType="Virtual";i._values.defaultPageSize=d.LeadSizeD.create(8.5*b.unitsPerInch,11*b.unitsPerInch);i._values.isReadOnly=!1;i.cacheStatus=c.DocumentCacheStatus.notSynced;
i.isLocal=!0;a=c.Internal.Formatting.formatDate(new Date);e=i.metadata;e.Created=a;e.Accessed=a;e.Modified=a;c.DocumentFactory.documentCreated(i);return i};Object.defineProperty(b.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0});b.prototype.dispose=function(){this._dispose(!1)};b.prototype._dispose=function(a){var b=this;this._isDisposed||(this._isDisposed=!0,this._documents&&(this.forEachDocument(function(a){a&&0===c.DocumentFactory.decrementDocumentRef(a)&&
b._autoDisposeDocuments&&a.dispose()}),this._documents.dispose(),this._documents=null),this._pages&&(this._pages.dispose(),this._pages=null),this._annotations&&(this._annotations.dispose(),this._annotations=null),this._images&&(this._images.dispose(),this._images=null),this._barcodes&&(this._barcodes.dispose(),this._barcodes=null),this._structure&&(this._structure.dispose(),this._structure=null),a||c.DocumentFactory.documentDisposed(this))};Object.defineProperty(b.prototype,"autoDisposeDocuments",
{get:function(){return this._autoDisposeDocuments},set:function(a){this._autoDisposeDocuments=a;this.forEachDocument(function(b){b&&(b.autoDisposeDocuments=a)})},enumerable:!0,configurable:!0});b.prototype.canModify=function(){if(this.isReadOnly)throw"Document is read-only";};b.prototype.createPage=function(a,b){if(a.isEmpty)throw"Size must not be empty";if(0>b)throw"Resolution must be a value greater than or equal to 0";var d=new c.DocumentPage;d.setSize(a);d.resolution=b;d.isLocal=!0;return d};
Object.defineProperty(b.prototype,"documentId",{get:function(){return this.values.documentId},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"name",{get:function(){return this.values.name},set:function(a){this.values.name=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"uri",{get:function(){return this.values.uri},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"cacheUri",{get:function(){return this.values.cacheUri},set:function(a){this.values.cacheUri=
a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"lastCacheSyncTime",{get:function(){return this._values.lastCacheSyncTime},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"cacheStatus",{get:function(){return this._cacheStatus},set:function(a){this._cacheStatus=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isDownloaded",{get:function(){return this.values.isDownloaded},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isReadOnly",
{get:function(){return this.values.isReadOnly},set:function(a){this.values.isReadOnly=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isLocal",{get:function(){return this._isLocal},set:function(a){this._isLocal=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"mimeType",{get:function(){return this.values.mimeType},set:function(a){this.values.mimeType=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"pages",{get:function(){return this._pages},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isEncrypted",{get:function(){return this.values.isEncrypted},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isDecrypted",{get:function(){return this.values.isDecrypted},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isStructureSupported",{get:function(){return this.values.isStructureSupported},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"documents",{get:function(){return this._documents},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"annotations",{get:function(){return this._annotations},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"structure",{get:function(){return this._structure},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"images",{get:function(){return this._images},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"barcodes",{get:function(){return this._barcodes},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"metadata",{get:function(){return this._metadata},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defaultResolution",{get:function(){return this.values.defaultResolution},enumerable:!0,configurable:!0});Object.defineProperty(b,"unitsPerInch",{get:function(){return 720},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"values",{get:function(){return this._values},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"annotationsUri",{get:function(){return this.values.annotationsUri},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defaultBitsPerPixel",{get:function(){return this.values.defaultBitsPerPixel},set:function(a){this.values.defaultBitsPerPixel=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defaultPageSize",{get:function(){return this.values.defaultPageSize},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"documentType",{get:function(){return this.values.documentType},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"password",{get:function(){return this.values.password},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"serviceUserData",{get:function(){return this._serviceUserData},set:function(a){this._serviceUserData=a},enumerable:!0,configurable:!0});b.prototype.validate=function(){return this.mimeType?{valid:!0,error:""}:{valid:!1,error:"Unrecognized image file format."}};
Object.defineProperty(b.prototype,"hasDocuments",{get:function(){return 0<this._documents.count},enumerable:!0,configurable:!0});b.prototype.forEachDocument=function(a){for(var b=0;b<this._documents.count;b++)a(this._documents.item(b))};b.prototype.documentsAddedRemoved=function(){if(0==this._documents.count)this._values.isSvgSupported=!0,this._values.isSvgViewingPreferred=!0,this._values.isResolutionsSupported=!0,this._values.isStructureSupported=!1;else{var a=!1,b=!1,d=!1,e=!1;this.forEachDocument(function(c){!a&&
c._values.isSvgSupported&&(a=!0);!b&&c._values.isSvgViewingPreferred&&(b=!0);!d&&c._values.isResolutionsSupported&&(d=!0);!e&&c.isStructureSupported&&(e=!0)});this._values.isSvgSupported=a;this._values.isSvgViewingPreferred=b;this._values.isResolutionsSupported=d;this._values.isStructureSupported=e}this.isStructureSupported&&!this.structure&&(this._structure=new c.DocumentStructure(this))};b.prototype.decrypt=function(a){var d=this,e=[c.DocumentFactory.serviceUri,b._controllerName,"Decrypt"].join("/"),
a={documentId:this.documentId,password:a,userData:this.serviceUserData},l=$.Deferred(),e={url:e,type:"POST",contentType:"application/json",data:JSON.stringify(a)};if(!c.DocumentFactory.doPrepareAjax(this,b._className,"Decrypt",e))return l.reject(null,"Canceled","Canceled").promise();$.ajax(e).done(function(a){d.copyFromJson(a.document,!0).done(function(b){b?l.resolve(d,"undefined"===typeof a.userData?null:a.userData):l.reject(null,null,"Invalid document object")})}).fail(function(a,b,d){c.DocumentFactory.log(d);
l.reject(a,b,d)});return l.promise()};b.prototype.convert=function(d){var e=[c.DocumentFactory.serviceUri,b._controllerName,"Convert"].join("/"),d={documentId:this.documentId,jobData:d,userData:this.serviceUserData},i=$.Deferred(),e={url:e,type:"POST",contentType:"application/json",data:JSON.stringify(d)};if(!c.DocumentFactory.doPrepareAjax(this,b._className,"Convert",e))return i.reject(null,"Canceled","Canceled").promise();$.ajax(e).done(function(b){var c=a.fromJson(b);i.resolve(c,"undefined"===
typeof b.userData?null:b.userData)}).fail(function(a,b,d){c.DocumentFactory.log(d);i.reject(a,b,d)});return i.promise()};b.documentToPixels=function(a,c){d.LeadDoubleTools.isZero(a)&&(a=96);return Math.floor(c/b.unitsPerInch*a+0.5)};b.pixelsToDocument=function(a,c){d.LeadDoubleTools.isZero(a)&&(a=96);return c*b.unitsPerInch/a};b.prototype.pointToPixels=function(a){if(a.isEmpty)return d.LeadPointD.empty;var c=this.defaultResolution;return d.LeadPointD.create(b.documentToPixels(c,a.x),b.documentToPixels(c,
a.y))};b.prototype.pointToDocument=function(a){var c=this.defaultResolution;return d.LeadPointD.create(b.pixelsToDocument(c,a.x),b.pixelsToDocument(c,a.y))};b.prototype.sizeToPixels=function(a){if(a.isEmpty)return d.LeadSizeD.empty;var c=this.defaultResolution;return d.LeadSizeD.create(b.documentToPixels(c,a.width),b.documentToPixels(c,a.height))};b.prototype.sizeToDocument=function(a){var c=this.defaultResolution;return d.LeadSizeD.create(b.pixelsToDocument(c,a.width),b.pixelsToDocument(c,a.height))};
b.prototype.rectToPixels=function(a){if(a.isEmpty)return d.LeadRectD.empty;var c=this.defaultResolution;return d.LeadRectD.fromLTRB(b.documentToPixels(c,a.left),b.documentToPixels(c,a.top),b.documentToPixels(c,a.right),b.documentToPixels(c,a.bottom))};b.prototype.rectToDocument=function(a){var c=this.defaultResolution;return d.LeadRectD.fromLTRB(b.pixelsToDocument(c,a.left),b.pixelsToDocument(c,a.top),b.pixelsToDocument(c,a.right),b.pixelsToDocument(c,a.bottom))};b._cacheClassName="Cache";b._cacheControllerName=
"GetDocumentData";b._className="Document";b._controllerName="Document";return b}();c.Document=e})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){(function(h){var a=function(){function a(){}a.createFullUrl=function(a,c){var d=a+"?",e=Object.keys(c);e.forEach(function(a,b){d+=a+"="+c[a];b!=e.length-1&&(d+="&")});return d};a.createBaseUrl=function(a,c){return d.Documents.DocumentFactory.serviceUri+"/"+a+"/"+c};a.doGenericElementLoad=function(a,e,m,i,l,j){var f=this,p=!!e,k=p?e.urlMode:c.DocumentImages.elementUrlMode,o=h.ImageRequestHelper.createAjaxSettings(k,m,p?e.ajaxOptions.method:c.DocumentImages.elementAjaxMethod,
i);p||(e=new d.ImageLoader,e.urlMode=k);var n;n=function(d,p){e.preRun.remove(n);var k=false;o&&!c.DocumentFactory.doPrepareAjax(f,l,j,o)&&(k=true);o?h.ImageRequestHelper.setAjaxSettings(e,o):e.url=h.ImageRequestHelper.createFullUrl(m,i);h.ImageRequestHelper.setImageLoaderCallbacks(e,a);if(k){a.reject(null,"Canceled","Canceled").promise();p.cancel=true}};e.preRun.add(n);p||e.run();return a.promise()};a.createAjaxSettings=function(a,e,m,i){if(a===d.ImageLoaderUrlMode.imageUrl)return null;m||(m=c.DocumentImages.elementAjaxMethod);
a={url:e,type:m,method:m};"post"===m.toLowerCase()?(a.contentType="application/json; charset=utf-8",a.data=JSON.stringify(i)):a.data=i;return a};a.setAjaxSettings=function(a,c){var d=a.ajaxOptions,e=c.headers;e&&Object.keys(e).forEach(function(a){d.headers[a]=e[a]});d.method=c.method||c.type;if(d.method)if("get"===d.method.toLowerCase())a.url=h.ImageRequestHelper.createFullUrl(c.url,c.data);else if("post"===d.method.toLowerCase()){if(!e||!e["content-type"]&&!e.contentType)d.headers["content-type"]=
c.contentType;a.url=c.url;d.postData=c.data}};a.setImageLoaderCallbacks=function(a,d){var e=function(a){d.resolve(a.element)},i=function(a){c.DocumentFactory.log(a.error.message);d.reject(null,"error",a.error)},h;h=function(){a.done.remove(e);a.fail.remove(i);a.always.remove(h)};a.done.add(e);a.fail.add(i);a.always.add(h)};return a}();h.ImageRequestHelper=a;a=function(){function a(){}a.formatDate=function(a){var c=a.getMonth()+1,d=a.getDate(),e=a.getFullYear(),h=a.getHours(),j=11<h?"PM":"AM";12<h&&
(h-=12);0===h&&(h=12);var f=a.getMinutes();10>f&&(f="0"+f);a=a.getSeconds();10>a&&(a="0"+a);return c+"/"+d+"/"+e+" "+h+":"+f+":"+a+" "+j};return a}();h.Formatting=a;a=function(){function a(){}a.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var c=16*Math.random()|0;return("x"===a?c:c&3|8).toString(16)})};return a}();h.Guid=a;a=function(){function a(){}a.copyMatchingProperties=function(a,e,h){Object.getOwnPropertyNames(e).forEach(function(i){if(1<i.length&&
"_"===i.charAt(0)&&"_"!==i.charAt(1)){var l=i.substr(1);if(!(null!=h&&-1!=h.indexOf(l))){if(!a.hasOwnProperty(l))return c.DocumentFactory.log("Missing required property: "+l),!1;var j=e[i],l=a[l];e[i]=j instanceof Date?new Date(Date.parse(l)):j instanceof d.LeadPointD?d.LeadPointD.fromJSON(l):j instanceof d.LeadSizeD?d.LeadSizeD.fromJSON(l):j instanceof d.LeadRectD?d.LeadRectD.fromJSON(l):j instanceof d.Documents.ConvertItem?d.Documents.ConvertItem.fromJson(l):l}}});return!0};return a}();h.PropertyBag=
a;a=function(){function a(){}a.slice=function(a,c,d){void 0===c&&(c=0);void 0===d&&(d=a.byteLength);c=Math.floor(c);d=Math.floor(d);0>c&&(c+=a.byteLength);0>d&&(d+=a.byteLength);c=Math.min(Math.max(0,c),a.byteLength);d=Math.min(Math.max(0,d),a.byteLength);if(0>=d-c)return new ArrayBuffer(0);var e=new ArrayBuffer(d-c),h=new Uint8Array(e),a=new Uint8Array(a,c,d-c);h.set(a);return e};return a}();h.ArrayBufferSlicer=a})(c.Internal||(c.Internal={}))})(d.Documents||(d.Documents={}))})(lt||(lt={}));
(function(d){(function(c){(function(a){a[a.synced=0]="synced";a[a.notSynced=1]="notSynced"})(c.DocumentCacheStatus||(c.DocumentCacheStatus={}));var h=c.DocumentCacheStatus;(function(a){a[a.created=0]="created";a[a.uploading=1]="uploading";a[a.finished=2]="finished";a[a.error=3]="error";a[a.aborted=4]="aborted"})(c.DocumentUploadProgressState||(c.DocumentUploadProgressState={}));var a=c.DocumentUploadProgressState,e=function(){function a(b,c,d){this._state=b;this._progress=c;this._userData=d}Object.defineProperty(a.prototype,
"state",{get:function(){return this._state},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"progress",{get:function(){return this._progress},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"userData",{get:function(){return this._userData},enumerable:!0,configurable:!0});return a}();c.DocumentUploadProgress=e;(function(a){a[a.unset=0]="unset";a[a.error=1]="error";a[a.ready=2]="ready"})(c.OcrEngineStatus||(c.OcrEngineStatus={}));var b=c.OcrEngineStatus,g=function(){function a(b,
c,d,e,f,g,h){this._message=b;this._time=c;this._isLicenseChecked=d;this._isLicenseExpired=e;this._isCacheAccessible=f;this._kernelType=g;this._ocrEngineStatus=h}Object.defineProperty(a.prototype,"message",{get:function(){return this._message},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"time",{get:function(){return this._time},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isLicenseChecked",{get:function(){return this._isLicenseChecked},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"isLicenseExpired",{get:function(){return this._isLicenseExpired},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isCacheAccessible",{get:function(){return this._isCacheAccessible},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"kernelType",{get:function(){return this._kernelType},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"ocrEngineStatus",{get:function(){return this._ocrEngineStatus},enumerable:!0,configurable:!0});
return a}();c.ServiceStatus=g;var m=function(a){function b(c){a.call(this);this._documentId=c}__extends(b,a);Object.defineProperty(b.prototype,"documentId",{get:function(){return this._documentId},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"document",{get:function(){return this._document},set:function(a){this._document=a},enumerable:!0,configurable:!0});return b}(d.LeadEventArgs);c.ResolveDocumentEventArgs=m;var i=function(a){function b(){a.apply(this,arguments)}__extends(b,
a);b.prototype.add=function(b){return a.prototype.add.call(this,b)};b.prototype.remove=function(b){a.prototype.remove.call(this,b)};return b}(d.LeadEvent);c.ResolveDocumentEventType=i;var l=function(){function a(){this._document=null;this._refCount=-1}Object.defineProperty(a.prototype,"document",{get:function(){return this._document},set:function(a){this._document=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"refCount",{get:function(){return this._refCount},set:function(a){this._refCount=
a},enumerable:!0,configurable:!0});return a}();c.DocumentRefInfo=l;i=function(){function f(){}f.create=function(a){return c.Document.create(a)};f.verifyService=function(){var a=[f.serviceUri,"Test/Ping"].join("/"),c={userData:f._serviceUserData},d=$.Deferred(),a={url:a,type:"POST",contentType:"application/json",data:JSON.stringify(c)};if(!f.doPrepareAjax(this,f._className,"VerifyService",a))return d.reject(null,"Canceled","Canceled").promise();$.ajax(a).done(function(a){var c=new g(a.message,new Date(a.time),
a.isLicenseChecked,a.isLicenseExpired,a.isCacheAccessible,a.kernelType,-1<=a.ocrEngineStatus?a.ocrEngineStatus:b.unset);d.resolve(c,"undefined"===typeof a.userData?null:a.userData)}).fail(function(a,b,c){f.log(c);d.reject(a,b,c)});return d.promise()};f.checkLicense=function(){var a=[f.serviceUri,"Test/CheckLicense"].join("/"),b={userData:f._serviceUserData},c=$.Deferred(),a={url:a,type:"POST",contentType:"application/json",data:JSON.stringify(b)};if(!f.doPrepareAjax(this,f._className,"CheckLicense",
a))return c.reject(null,"Canceled","Canceled").promise();$.ajax(a).done(function(a){c.resolve(a.isExpired,"undefined"===typeof a.userData?null:a.userData)}).fail(function(a,b,d){f.log(d);c.reject(a,b,d)});return c.promise()};Object.defineProperty(f,"serviceHost",{get:function(){return f._serviceHost},set:function(a){f._serviceHost=a;f.build()},enumerable:!0,configurable:!0});Object.defineProperty(f,"servicePath",{get:function(){return f._servicePath},set:function(a){f._servicePath=a;f.build()},enumerable:!0,
configurable:!0});Object.defineProperty(f,"serviceApiPath",{get:function(){return f._serviceApiPath},set:function(a){f._serviceApiPath=a;f.build()},enumerable:!0,configurable:!0});Object.defineProperty(f,"serviceUri",{get:function(){null==f._serviceUri&&f.build();return f._serviceUri},enumerable:!0,configurable:!0});Object.defineProperty(f,"serviceUserData",{get:function(){return f._serviceUserData},set:function(a){f._serviceUserData=a},enumerable:!0,configurable:!0});f.build=function(){var a=null,
b=window.location,a=f._serviceHost,d=f._servicePath,e=f._serviceApiPath,a=null==a?b.protocol+"//"+b.host:a;"/"===a.charAt(a.length-1)&&(a=a.substring(0,a.length-1));null==d?(b=b.pathname,-1<b.indexOf(".")&&(d=b.lastIndexOf("/"),-1<d&&(b=b.substring(0,d))),a+=f.clean(b)):a+=f.clean(d);null!=e&&0<e.length&&(a+=f.clean(e));f._serviceUri=a;c.Document.rebuildCacheUriValues()};f.clean=function(a){var b=a.length;"/"!==a.charAt(0)&&(a="/"+a,b+=1);"/"===a.charAt(b-1)&&(a=a.substring(0,b-1));return a};Object.defineProperty(f,
"logErrors",{get:function(){return f._logErrors},set:function(a){f._logErrors=a},enumerable:!0,configurable:!0});f.log=function(a){f.logErrors&&d.LTHelper.logError(a)};f.isUploadDocumentUri=function(a){if(null==a)return!1;a=a.toLowerCase();return 0==a.indexOf("http://leadcache")||0==a.indexOf("https://leadcache")};Object.defineProperty(f,"loadDocumentFromCache",{get:function(){return f._loadDocumentFromCache},enumerable:!0,configurable:!0});f.tryLoadDocumentFromCache=function(a,b){var c=null;f.loadDocumentFromCache&&
(c=new m(b),f.loadDocumentFromCache.invoke(a,c),c=c.document);return c};f.loadFromCache=function(a){var b=[f.serviceUri,f._controllerName,"LoadFromCache"].join("/"),a={documentId:a,userData:f.serviceUserData},d=$.Deferred(),b={url:b,type:"POST",contentType:"application/json",data:JSON.stringify(a)};if(!f.doPrepareAjax(this,f._className,"LoadFromCache",b))return d.reject(null,"Canceled","Canceled").promise();$.ajax(b).done(function(a){c.Document.fromJson(a.document,!0).done(function(b){b&&(f.documentRefs[b.documentId]?
f.incrementDocumentRef(b):f.documentCreated(b));d.resolve(b,"undefined"===typeof a.userData?null:a.userData)})}).fail(function(a,b,c){f.log(c);d.reject(a,b,c)});return d.promise()};f.loadFromUri=function(a,b){var d=[f.serviceUri,f._controllerName,"LoadFromUri"].join("/");null==b&&(b=new c.LoadDocumentOptions);var e={uri:a,resolution:b.resolution,options:b,userData:f.serviceUserData},g=$.Deferred(),d={url:d,type:"POST",contentType:"application/json",data:JSON.stringify(e)};if(!f.doPrepareAjax(this,
f._className,"LoadFromUri",d))return g.reject(null,"Canceled","Canceled").promise();$.ajax(d).done(function(a){c.Document.fromJson(a.document,!0).done(function(b){b&&f.documentCreated(b);g.resolve(b,"undefined"===typeof a.userData?null:a.userData)})}).fail(function(a,b,c){f.log(c);g.reject(a,b,c)});return g.promise()};f.uploadFile=function(b,c){var g=$.Deferred();if(!d.LTHelper.supportsFileReader)return d.LTHelper.logError("The FileReader API is not supported on this browser - all file manipulation is unavailable."),
g.reject(null,"browsererror","The FileReader API is not supported on this browser - all file manipulation is unavailable."),g.promise({abort:function(){}});var h=null,i=!1,j=!1;f.beginUpload(c).done(function(c){g.notify(new e(a.created,0,null));h=c;c=new FileReader;c.onloadend=function(c){if(2===c.target.readyState){var d=c.target.result,k=0,m=function(c){k+=1048576;if(!i){var r=100*(k/b.size),r=Math.max(0,Math.min(r,100));k<b.size?(g.notify(new e(a.uploading,r,c)),f.uploadDocument(h,d,k,1048576).done(m).fail(l)):
(j=!0,g.notify(new e(a.finished,r,c)),g.resolve(h,c))}},l=function(a,b,c){i||(f.log(c),g.reject(a,b,c))};f.uploadDocument(h,d,k,1048576).done(m).fail(l)}};var d=b.slice(0,b.size);c.readAsArrayBuffer(d)}).fail(function(a,b,c){f.log(c);g.reject(a,b,c)});return g.promise({abort:function(){i=!0;j?f.log("Cannot abort after upload has completed"):(f.abortUploadDocument(h),g.notify(new e(a.aborted,0,null)),g.reject(null,null,null))}})};f.beginUpload=function(a){var b=$.Deferred(),a={url:[f.serviceUri,f._controllerName,
"BeginUpload"].join("/"),type:"POST",contentType:"application/json",data:JSON.stringify({documentId:a||null,userData:f._serviceUserData})};if(!f.doPrepareAjax(this,f._className,"BeginUpload",a))return b.reject(null,"Canceled","Canceled").promise();$.ajax(a).done(function(a){b.resolve(a.uploadUri,"undefined"===typeof a.userData?null:a.userData)}).fail(function(a,c,d){f.log(d);b.reject(a,c,d)});return b.promise()};f.uploadDocument=function(a,b,e,g){var h=$.Deferred();if(!d.LTHelper.supportsFileReader)return d.LTHelper.logError("The FileReader API is not supported on this browser - all file manipulation is unavailable."),
h.reject(null,"browsererror","The FileReader API is not supported on this browser - all file manipulation is unavailable.").promise();var i=null,i=ArrayBuffer.prototype.slice?b.slice(e,e+g):c.Internal.ArrayBufferSlicer.slice(b,e,e+g),b=d.LTHelper.base64EncodeFromArrayBuffer(i),a={url:[f.serviceUri,f._controllerName,"UploadDocument"].join("/"),type:"POST",contentType:"application/json",data:JSON.stringify({uri:a,data:b,userData:f._serviceUserData})};if(!f.doPrepareAjax(this,f._className,"UploadDocument",
a))return h.reject(null,"Canceled","Canceled").promise();$.ajax(a).done(function(a){h.resolve("undefined"===typeof a.userData?null:a.userData)}).fail(function(a,b,c){f.log(c);h.reject(a,b,c)});return h.promise()};f.abortUploadDocument=function(a){var b=[f.serviceUri,f._controllerName,"AbortUploadDocument"].join("/"),a={uri:a,userData:f._serviceUserData},c=$.Deferred(),b={url:b,type:"POST",contentType:"application/json",data:JSON.stringify(a)};if(!f.doPrepareAjax(this,f._className,"AbortUploadDocument",
b))return c.reject(null,"Canceled","Canceled").promise();$.ajax(b).done(function(a){c.resolve("undefined"===typeof a.userData?null:a.userData)});return c.promise()};f.downloadDocument=function(a,b,c,e){var g=[f.serviceUri,f._controllerName,"DownloadDocument"].join("/"),a={documentId:a,uri:b,position:c,dataSize:e,userData:f._serviceUserData},h=$.Deferred(),g={url:g,type:"GET",contentType:"application/json",data:a,headers:{"cache-control":"no-cache"}};if(!f.doPrepareAjax(this,f._className,"DownloadDocument",
g))return h.reject(null,"Canceled","Canceled").promise();$.ajax(g).fail(function(a,b,c){f.log(c);h.reject(a,b,c)}).done(function(a){var b=d.LTHelper.base64DecodeToByteArray(a.data);h.resolve(b,"undefined"===typeof a.userData?null:a.userData)});return h.promise()};f.saveToCache=function(a){var b=$.Deferred();if(a.cacheStatus===h.notSynced){var d=[f.serviceUri,f._controllerName,"SaveToCache"].join("/"),e={descriptor:a.createDocumentDescriptor(),userData:f.serviceUserData},d={url:d,type:"POST",contentType:"application/json",
data:JSON.stringify(e)};if(!f.doPrepareAjax(this,f._className,"SaveToCache",d))return b.reject(null,"Canceled","Canceled").promise();$.ajax(d).done(function(d){c.Document.fromJson(d.document,!1).done(function(c){if(c){a.isLocal=!1;a.values.documentId=c.documentId;a.values.lastCacheSyncTime=c.values.lastCacheSyncTime;a.cacheStatus=h.synced;c._dispose(!0);for(c=0;c<a.pages.count;c++)a.pages.item(c).isLocal=!1;a.annotations.modifiedContainers?a.annotations.setAnnotations(a.annotations.modifiedContainers).always(function(){a.annotations.modifiedContainers=
null;b.resolve("undefined"===typeof d.userData?null:d.userData)}):b.resolve("undefined"===typeof d.userData?null:d.userData)}else b.reject(null,null,"Invalid document object")})}).fail(function(a,c,d){b.reject(a,c,d)});return b.promise()}return a.annotations.modifiedContainers?(a.annotations.setAnnotations(a.annotations.modifiedContainers).always(function(){a.annotations.modifiedContainers=null;b.resolve()}),b.promise()):b.resolve().promise()};f.deleteFromCache=function(a){var b=[f.serviceUri,f._controllerName,
"Delete"].join("/"),a={documentId:a,userData:f._serviceUserData},c=$.Deferred(),b={url:b,type:"POST",contentType:"application/json",data:JSON.stringify(a)};if(!f.doPrepareAjax(this,f._className,"DeleteFromCache",b))return c.reject(null,"Canceled","Canceled").promise();$.ajax(b).fail(function(a,b,d){f.log(d);c.reject(a,b,d)}).done(function(a){c.resolve("undefined"===typeof a.userData?null:a.userData)});return c.promise()};Object.defineProperty(f,"prepareAjax",{get:function(){return f._prepareAjax},
enumerable:!0,configurable:!0});f.doPrepareAjax=function(a,b,c,d){b=new j(b,c,d);f._prepareAjax.invoke(a,b);return!b.cancel};Object.defineProperty(f,"documentRefs",{get:function(){return this._documentRefs},enumerable:!0,configurable:!0});f.incrementDocumentRef=function(a){f._checkDocumentRefInput(a);a=f._documentRefs[a.documentId];a.refCount++;return a.refCount};f.decrementDocumentRef=function(a){f._checkDocumentRefInput(a);a=f._documentRefs[a.documentId];if(0>=a.refCount)throw"cannot decrement reference below zero";
a.refCount--;return a.refCount};f.documentCreated=function(a){if(a&&f._documentRefs[a.documentId])throw"document with cacheId already exists";var b=new l;b.document=a;b.refCount=0;f._documentRefs[a.documentId]=b};f.documentDisposed=function(a){f._checkDocumentRefInput(a);0===f._documentRefs[a.documentId].refCount&&(f._documentRefs[a.documentId]=null)};f._checkDocumentRefInput=function(a){if(!a||!f._documentRefs[a.documentId])throw"document does not exist";};f._className="DocumentFactory";f._controllerName=
"Factory";f._serviceHost=null;f._servicePath=null;f._serviceApiPath=null;f._serviceUri=null;f._serviceUserData=null;f._logErrors=!0;f._loadDocumentFromCache=d.LeadEvent.create(f,"loadDocumentFromCache");f._prepareAjax=d.LeadEvent.create(f,"prepareAjax");f._documentRefs={};return f}();c.DocumentFactory=i;var j=function(a){function b(c,d,e){a.call(this);this._sourceClass=c[0].toUpperCase()+c.substr(1,c.length-1);this._sourceMethod=d[0].toUpperCase()+d.substr(1,d.length-1);this._settings=e;this._cancel=
!1}__extends(b,a);Object.defineProperty(b.prototype,"sourceClass",{get:function(){return this._sourceClass},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"sourceMethod",{get:function(){return this._sourceMethod},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"settings",{get:function(){return this._settings},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"cancel",{get:function(){return this._cancel},set:function(a){this._cancel=a},enumerable:!0,
configurable:!0});return b}(d.LeadEventArgs);c.PrepareAjaxEventArgs=j;i=function(a){function b(){a.apply(this,arguments)}__extends(b,a);b.prototype.add=function(b){return a.prototype.add.call(this,b)};b.prototype.remove=function(b){a.prototype.remove.call(this,b)};return b}(d.LeadEvent);c.PrepareAjaxEventType=i})(d.Documents||(d.Documents={}))})(lt||(lt={}));eval("ltDocumentsString = String;");
(function(d){(function(c){var d=function(){function a(a,b,c,d,h,l,j,f,p){this._message=a;this._detail=b;this._code=c;this._link=d;this._exceptionType=h;this._methodName=l;this._jqXHR=j;this._statusText=f;this._errorThrown=p;this._isAbortError=!j&&"abort"===f&&!p;this._isParseError="parsererror"==f&&!!p;this._isCancelError=!j&&"Canceled"===f&&"Canceled"===p;this._isBrowserError="browsererror"==f&&!!p}Object.defineProperty(a.prototype,"message",{get:function(){return this._message},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"detail",{get:function(){return this._detail},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"code",{get:function(){return this._code},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"link",{get:function(){return this._link},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"exceptionType",{get:function(){return this._exceptionType},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"methodName",
{get:function(){return this._methodName},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"jqXHR",{get:function(){return this._jqXHR},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"statusText",{get:function(){return this._statusText},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"errorThrown",{get:function(){return this._errorThrown},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isAbortError",{get:function(){return this._isAbortError},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isParseError",{get:function(){return this._isParseError},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isCancelError",{get:function(){return this._isCancelError},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isBrowserError",{get:function(){return this._isBrowserError},enumerable:!0,configurable:!0});a.parseError=function(d,b,g){if(!d&&!b&&!g)return new a(null,null,null,null,null,null,null,
"abort",null);if(!d&&"Canceled"===b&&"Canceled"===g||!d&&"browsererror"===b)return new a(null,null,null,null,null,null,null,b,g);var h=null;try{h=JSON.parse(d.responseText)}catch(i){return c.DocumentFactory.log("Could not parse JSON from Error"),new a(null,null,null,null,null,null,d,b||"parsererror",g?g:"The response error object could not be parsed from JSON.")}return new a(h.message,h.detail,h.code,h.link,h.exceptionType,h.methodName,d,b,g)};return a}();c.ServiceError=d})(d.Documents||(d.Documents=
{}))})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));
(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));(function(d){d=d.Documents||(d.Documents={});d.Service||(d.Service={})})(lt||(lt={}));
